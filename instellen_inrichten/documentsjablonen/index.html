<!doctype html><html lang=nl class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://open-wave-community.github.io/docs/instellen_inrichten/documentsjablonen/ rel=canonical><link href=../data_op_kaart/ rel=prev><link href=../drop/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.2"><title>Documentsjablonen en Sjabloongroepen - OpenWave docs</title><link rel=stylesheet href=../../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#documentsjablonen-en-sjabloongroepen class=md-skip> Ga naar inhoud </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="OpenWave docs" class="md-header__button md-logo" aria-label="OpenWave docs" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OpenWave docs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Documentsjablonen en Sjabloongroepen </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Zoeken placeholder=Zoeken autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Zoeken> <button type=reset class="md-search__icon md-icon" title=Leegmaken aria-label=Leegmaken tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Zoeken initialiseren </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/open-wave-community/docs.open-wave.nl title="Ga naar repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> OpenWave Documentatie </a> </li> <li class=md-tabs__item> <a href=../../functionaliteiten/ class=md-tabs__link> Functionaliteiten </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Instellen inrichten </a> </li> <li class=md-tabs__item> <a href=../../probleemoplossing/ class=md-tabs__link> Probleemoplossing </a> </li> <li class=md-tabs__item> <a href=../../reference/SUMMARY/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../techniek/ class=md-tabs__link> Techniek </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigatie data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="OpenWave docs" class="md-nav__button md-logo" aria-label="OpenWave docs" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> OpenWave docs </label> <div class=md-nav__source> <a href=https://github.com/open-wave-community/docs.open-wave.nl title="Ga naar repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> OpenWave Documentatie </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../functionaliteiten/ class="md-nav__link "> <span class=md-ellipsis> Functionaliteiten </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Functionaliteiten </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../functionaliteiten/bag/ class=md-nav__link> <span class=md-ellipsis> BAG </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/dso/ class=md-nav__link> <span class=md-ellipsis> DSO </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/email/ class=md-nav__link> <span class=md-ellipsis> E-mail </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/fis/ class=md-nav__link> <span class=md-ellipsis> FIS </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/geo/ class=md-nav__link> <span class=md-ellipsis> Geo/Kaart </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/inspecties/ class=md-nav__link> <span class=md-ellipsis> Inspecties </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/nhr/ class=md-nav__link> <span class=md-ellipsis> NHR </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/olo/ class=md-nav__link> <span class=md-ellipsis> OLO </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/rev/ class=md-nav__link> <span class=md-ellipsis> REV </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Instellen inrichten </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Instellen inrichten </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2way_encryptie_externe_wachtwoorden/ class=md-nav__link> <span class=md-ellipsis> 2-way encryptie van externe wachtwoorden </span> </a> </li> <li class=md-nav__item> <a href=../actions/ class=md-nav__link> <span class=md-ellipsis> Actions </span> </a> </li> <li class=md-nav__item> <a href=../adresrollen/ class=md-nav__link> <span class=md-ellipsis> Adresrollen </span> </a> </li> <li class=md-nav__item> <a href=../audit/ class=md-nav__link> <span class=md-ellipsis> Audit </span> </a> </li> <li class=md-nav__item> <a href=../beheerportalen/ class=md-nav__link> <span class=md-ellipsis> Beheerportalen in een nieuw jasje </span> </a> </li> <li class=md-nav__item> <a href=../compartimenten/ class=md-nav__link> <span class=md-ellipsis> Compartimenten </span> </a> </li> <li class=md-nav__item> <a href=../data_op_kaart/ class=md-nav__link> <span class=md-ellipsis> Data Op Kaart / Export Inrichtingen als WFS </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Documentsjablonen en Sjabloongroepen </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Documentsjablonen en Sjabloongroepen </span> </a> <nav class="md-nav md-nav--secondary" aria-label=Inhoudsopgave> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Inhoudsopgave </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#sjabloongroepen class=md-nav__link> <span class=md-ellipsis> Sjabloongroepen </span> </a> <nav class=md-nav aria-label=Sjabloongroepen> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sjabloondefinitie-documentsjablonenlijst class=md-nav__link> <span class=md-ellipsis> Sjabloondefinitie (documentsjablonenlijst) </span> </a> </li> <li class=md-nav__item> <a href=#sjabloondefinitie-detailscherm class=md-nav__link> <span class=md-ellipsis> Sjabloondefinitie (detailscherm) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#triggers class=md-nav__link> <span class=md-ellipsis> Triggers </span> </a> <nav class=md-nav aria-label=Triggers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#triggers-in-het-menu-opties-rechtsboven class=md-nav__link> <span class=md-ellipsis> Triggers in het menu opties rechtsboven </span> </a> </li> <li class=md-nav__item> <a href=#triggers-linksonder class=md-nav__link> <span class=md-ellipsis> Triggers linksonder </span> </a> </li> <li class=md-nav__item> <a href=#triggers-rechtsonder class=md-nav__link> <span class=md-ellipsis> Triggers rechtsonder </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kolommen-van-sjabloon class=md-nav__link> <span class=md-ellipsis> Kolommen van sjabloon </span> </a> <nav class=md-nav aria-label="Kolommen van sjabloon"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#query-variabelen class=md-nav__link> <span class=md-ellipsis> Query-variabelen </span> </a> <nav class=md-nav aria-label=Query-variabelen> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openwave-database-functies class=md-nav__link> <span class=md-ellipsis> OpenWave database functies </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#childquery class=md-nav__link> <span class=md-ellipsis> Childquery </span> </a> </li> <li class=md-nav__item> <a href=#speciale-childquery-samenvoegen-met-externe-bron class=md-nav__link> <span class=md-ellipsis> Speciale childquery: samenvoegen met externe bron </span> </a> </li> <li class=md-nav__item> <a href=#speciale-childquery-opsommen-aangewezen-bijlages class=md-nav__link> <span class=md-ellipsis> Speciale childquery: Opsommen aangewezen bijlages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#invoegen-tekstblokken-op-basis-van-een-query-aanroep-naar-tbqueries class=md-nav__link> <span class=md-ellipsis> Invoegen tekstblokken op basis van een query-aanroep naar tbqueries </span> </a> <nav class=md-nav aria-label="Invoegen tekstblokken op basis van een query-aanroep naar tbqueries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#invoegen-plaatje-op-basis-van-een-query-aanroep-naar-tbqueries-die-verwijst-naar-tbimages class=md-nav__link> <span class=md-ellipsis> Invoegen plaatje op basis van een query-aanroep naar tbqueries die verwijst naar tbimages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tonen-wave-briefnummer class=md-nav__link> <span class=md-ellipsis> Tonen Wave briefnummer </span> </a> </li> <li class=md-nav__item> <a href=#tonen-externe-documentidentifier class=md-nav__link> <span class=md-ellipsis> Tonen externe documentidentifier </span> </a> </li> <li class=md-nav__item> <a href=#tonen-gecrypte-versie-van-een-kolomwaarde class=md-nav__link> <span class=md-ellipsis> Tonen gecrypte versie van een kolomwaarde </span> </a> </li> <li class=md-nav__item> <a href=#sjabloon-parameters class=md-nav__link> <span class=md-ellipsis> Sjabloon-parameters </span> </a> <nav class=md-nav aria-label=Sjabloon-parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#parameterkolommen class=md-nav__link> <span class=md-ellipsis> Parameterkolommen </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-gebruik-verschillende-soorten-types-parameters class=md-nav__link> <span class=md-ellipsis> Voorbeeld gebruik verschillende soorten (types) parameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#formquery-en-childquery-verwijzingen-naar-tbqueries class=md-nav__link> <span class=md-ellipsis> formquery en childquery-verwijzingen naar tbqueries </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../drop/ class=md-nav__link> <span class=md-ellipsis> Drop </span> </a> </li> <li class=md-nav__item> <a href=../editschuif/ class=md-nav__link> <span class=md-ellipsis> Edit-schuif </span> </a> </li> <li class=md-nav__item> <a href=../email/ class=md-nav__link> <span class=md-ellipsis> E-mail SMTP instellingen </span> </a> </li> <li class=md-nav__item> <a href=../emailsjablonen/ class=md-nav__link> <span class=md-ellipsis> Emailsjablonen </span> </a> </li> <li class=md-nav__item> <a href=../export_report_container/ class=md-nav__link> <span class=md-ellipsis> Export Report Container </span> </a> </li> <li class=md-nav__item> <a href=../externe_link/ class=md-nav__link> <span class=md-ellipsis> Externe Link </span> </a> </li> <li class=md-nav__item> <a href=../foutcodes/ class=md-nav__link> <span class=md-ellipsis> Foutcodes/-afhandeling </span> </a> </li> <li class=md-nav__item> <a href=../functietoetsen/ class=md-nav__link> <span class=md-ellipsis> Functietoetsen </span> </a> </li> <li class=md-nav__item> <a href=../geowms-lagen/ class=md-nav__link> <span class=md-ellipsis> Geo-WMS/WFS lagen </span> </a> </li> <li class=md-nav__item> <a href=../hyperlink/ class=md-nav__link> <span class=md-ellipsis> Hyperlink </span> </a> </li> <li class=md-nav__item> <a href=../ip-ranges/ class=md-nav__link> <span class=md-ellipsis> IP-ranges </span> </a> </li> <li class=md-nav__item> <a href=../medewerkers/ class=md-nav__link> <span class=md-ellipsis> Medewerkers </span> </a> </li> <li class=md-nav__item> <a href=../messagelog/ class=md-nav__link> <span class=md-ellipsis> MessageLog </span> </a> </li> <li class=md-nav__item> <a href=../onbekende_locatieadressen/ class=md-nav__link> <span class=md-ellipsis> Onbekende locatieadressen </span> </a> </li> <li class=md-nav__item> <a href=../onlyoffice/ class=md-nav__link> <span class=md-ellipsis> OnlyOffice </span> </a> </li> <li class=md-nav__item> <a href=../openwave_database-functies/ class=md-nav__link> <span class=md-ellipsis> Database functies </span> </a> </li> <li class=md-nav__item> <a href=../opslag_bij_inrichtingen/ class=md-nav__link> <span class=md-ellipsis> Opslagtabel bij inrichtingen </span> </a> </li> <li class=md-nav__item> <a href=../opslag_kenmerk-en_verplichting/ class=md-nav__link> <span class=md-ellipsis> Opslagvoorziening Kenmerk en Verplichting </span> </a> </li> <li class=md-nav__item> <a href=../producten_klanten_werkpakketten/ class=md-nav__link> <span class=md-ellipsis> Producten Klanten en Werkpakketten </span> </a> </li> <li class=md-nav__item> <a href=../queries/ class=md-nav__link> <span class=md-ellipsis> Queries </span> </a> </li> <li class=md-nav__item> <a href=../rapportages/ class=md-nav__link> <span class=md-ellipsis> Rapportages </span> </a> </li> <li class=md-nav__item> <a href=../regexp_voorbeelden_pattern/ class=md-nav__link> <span class=md-ellipsis> Regexp voorbeelden pattern </span> </a> </li> <li class=md-nav__item> <a href=../register_exrterne_veiligheid/ class=md-nav__link> <span class=md-ellipsis> Register Externe Veiligheid </span> </a> </li> <li class=md-nav__item> <a href=../rest_flexfuncties/ class=md-nav__link> <span class=md-ellipsis> REST Flexfuncties </span> </a> </li> <li class=md-nav__item> <a href=../roeb_berekening_vastg._kosten/ class=md-nav__link> <span class=md-ellipsis> Roeb berekening vastg. kosten </span> </a> </li> <li class=md-nav__item> <a href=../samenwerkingsfunctionaliteit/ class=md-nav__link> <span class=md-ellipsis> Samenwerkingsfunctionaliteit </span> </a> </li> <li class=md-nav__item> <a href=../satellite_filesysteem/ class=md-nav__link> <span class=md-ellipsis> Satellite t.b.v. benadering fileserver </span> </a> </li> <li class=md-nav__item> <a href=../sidebar_zijbalk/ class=md-nav__link> <span class=md-ellipsis> Sidebar (zijbalk) </span> </a> </li> <li class=md-nav__item> <a href=../singlesignon/ class=md-nav__link> <span class=md-ellipsis> Single Sign-On </span> </a> </li> <li class=md-nav__item> <a href=../sms/ class=md-nav__link> <span class=md-ellipsis> SMS </span> </a> </li> <li class=md-nav__item> <a href=../standardlist_standarddetail/ class=md-nav__link> <span class=md-ellipsis> Standaard Lijst- en Detailschermen </span> </a> </li> <li class=md-nav__item> <a href=../taskscheduler/ class=md-nav__link> <span class=md-ellipsis> Taskscheduler </span> </a> </li> <li class=md-nav__item> <a href=../teams/ class=md-nav__link> <span class=md-ellipsis> Teams </span> </a> </li> <li class=md-nav__item> <a href=../testen_dso_erkmaatreg/ class=md-nav__link> <span class=md-ellipsis> Testen xml-berichten DSO / Erk.Maatreg </span> </a> </li> <li class=md-nav__item> <a href=../vee_stallen/ class=md-nav__link> <span class=md-ellipsis> Vee / Stallen </span> </a> </li> <li class=md-nav__item> <a href=../wachtwoordcomplexiteit/ class=md-nav__link> <span class=md-ellipsis> Wachtwoordcomplexiteit </span> </a> </li> <li class=md-nav__item> <a href=../zaakstatussen/ class=md-nav__link> <span class=md-ellipsis> Zaakstatussen </span> </a> </li> <li class=md-nav__item> <a href=../zaaktypes/ class=md-nav__link> <span class=md-ellipsis> Zaaktypes </span> </a> </li> <li class=md-nav__item> <a href=../zwemwater/ class=md-nav__link> <span class=md-ellipsis> Zwemwater bij inrichtingen </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../configuratie/ class=md-nav__link> <span class=md-ellipsis> Configuratie </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../inrichting_processen/ class=md-nav__link> <span class=md-ellipsis> Inrichting processen </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../portaldefinitie/ class=md-nav__link> <span class=md-ellipsis> Portaldefinitie </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../schermdefinitie/ class=md-nav__link> <span class=md-ellipsis> Schermdefinitie </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../probleemoplossing/ class="md-nav__link "> <span class=md-ellipsis> Probleemoplossing </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Probleemoplossing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../probleemoplossing/module_overstijgende_schermen/ class=md-nav__link> <span class=md-ellipsis> Module overstijgende schermen </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../probleemoplossing/portalen_en_moduleschermen/ class=md-nav__link> <span class=md-ellipsis> Portalen en moduleschermen </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../probleemoplossing/programmablokken/ class=md-nav__link> <span class=md-ellipsis> Programmablokken </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/SUMMARY/ class=md-nav__link> <span class=md-ellipsis> SUMMARY </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../techniek/ class="md-nav__link "> <span class=md-ellipsis> Techniek </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Techniek </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techniek/browsers/ class=md-nav__link> <span class=md-ellipsis> Browsers </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/database_lees_schrijfrechten/ class=md-nav__link> <span class=md-ellipsis> Database Lees- en Schrijfrechten </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/stijlgids/ class=md-nav__link> <span class=md-ellipsis> UNDER CONSTRUCTION </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/systeem_benodigdheden/ class=md-nav__link> <span class=md-ellipsis> Systeem benodigdheden </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/versiebeheer/ class=md-nav__link> <span class=md-ellipsis> Versiebeheer </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=Inhoudsopgave> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Inhoudsopgave </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#sjabloongroepen class=md-nav__link> <span class=md-ellipsis> Sjabloongroepen </span> </a> <nav class=md-nav aria-label=Sjabloongroepen> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sjabloondefinitie-documentsjablonenlijst class=md-nav__link> <span class=md-ellipsis> Sjabloondefinitie (documentsjablonenlijst) </span> </a> </li> <li class=md-nav__item> <a href=#sjabloondefinitie-detailscherm class=md-nav__link> <span class=md-ellipsis> Sjabloondefinitie (detailscherm) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#triggers class=md-nav__link> <span class=md-ellipsis> Triggers </span> </a> <nav class=md-nav aria-label=Triggers> <ul class=md-nav__list> <li class=md-nav__item> <a href=#triggers-in-het-menu-opties-rechtsboven class=md-nav__link> <span class=md-ellipsis> Triggers in het menu opties rechtsboven </span> </a> </li> <li class=md-nav__item> <a href=#triggers-linksonder class=md-nav__link> <span class=md-ellipsis> Triggers linksonder </span> </a> </li> <li class=md-nav__item> <a href=#triggers-rechtsonder class=md-nav__link> <span class=md-ellipsis> Triggers rechtsonder </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kolommen-van-sjabloon class=md-nav__link> <span class=md-ellipsis> Kolommen van sjabloon </span> </a> <nav class=md-nav aria-label="Kolommen van sjabloon"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#query-variabelen class=md-nav__link> <span class=md-ellipsis> Query-variabelen </span> </a> <nav class=md-nav aria-label=Query-variabelen> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openwave-database-functies class=md-nav__link> <span class=md-ellipsis> OpenWave database functies </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#childquery class=md-nav__link> <span class=md-ellipsis> Childquery </span> </a> </li> <li class=md-nav__item> <a href=#speciale-childquery-samenvoegen-met-externe-bron class=md-nav__link> <span class=md-ellipsis> Speciale childquery: samenvoegen met externe bron </span> </a> </li> <li class=md-nav__item> <a href=#speciale-childquery-opsommen-aangewezen-bijlages class=md-nav__link> <span class=md-ellipsis> Speciale childquery: Opsommen aangewezen bijlages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#invoegen-tekstblokken-op-basis-van-een-query-aanroep-naar-tbqueries class=md-nav__link> <span class=md-ellipsis> Invoegen tekstblokken op basis van een query-aanroep naar tbqueries </span> </a> <nav class=md-nav aria-label="Invoegen tekstblokken op basis van een query-aanroep naar tbqueries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#invoegen-plaatje-op-basis-van-een-query-aanroep-naar-tbqueries-die-verwijst-naar-tbimages class=md-nav__link> <span class=md-ellipsis> Invoegen plaatje op basis van een query-aanroep naar tbqueries die verwijst naar tbimages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tonen-wave-briefnummer class=md-nav__link> <span class=md-ellipsis> Tonen Wave briefnummer </span> </a> </li> <li class=md-nav__item> <a href=#tonen-externe-documentidentifier class=md-nav__link> <span class=md-ellipsis> Tonen externe documentidentifier </span> </a> </li> <li class=md-nav__item> <a href=#tonen-gecrypte-versie-van-een-kolomwaarde class=md-nav__link> <span class=md-ellipsis> Tonen gecrypte versie van een kolomwaarde </span> </a> </li> <li class=md-nav__item> <a href=#sjabloon-parameters class=md-nav__link> <span class=md-ellipsis> Sjabloon-parameters </span> </a> <nav class=md-nav aria-label=Sjabloon-parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#parameterkolommen class=md-nav__link> <span class=md-ellipsis> Parameterkolommen </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-gebruik-verschillende-soorten-types-parameters class=md-nav__link> <span class=md-ellipsis> Voorbeeld gebruik verschillende soorten (types) parameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#formquery-en-childquery-verwijzingen-naar-tbqueries class=md-nav__link> <span class=md-ellipsis> formquery en childquery-verwijzingen naar tbqueries </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/open-wave-community/docs.open-wave.nl/blob/main/docs/instellen_inrichten/documentsjablonen.md title="Wijzig deze pagina" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=documentsjablonen-en-sjabloongroepen>Documentsjablonen en Sjabloongroepen<a class=headerlink href=#documentsjablonen-en-sjabloongroepen title="Permanent link">¤</a></h1> <p>Portaal beheerportaal-Nieuw. Tegels <strong>Documentsjablonen</strong> en <strong>Sjabloongroepen</strong>.</p> <p>Screenidentifiers:</p> <ul> <li>MDLC_getVwfrmDocumentenList.xml (vwfrmdocumenten)</li> <li>MDLC_getStencilGroupList.xml (tbdocumentsoorten)</li> <li>MDDC_getStencilGroupDetail.xml (tbdocumentsoorten)</li> <li>MDLC_getStencilList.xml (vwfrmdocumenten)</li> <li>MDDC_getStencilDetail.xml (vwfrmdocumenten)</li> <li>MDLC_getStencilParamsList.xml (tbrapportparameters)</li> <li>MDDC_getStencilParamsDetail.xml (tbrapportparameters)</li> <li>MDLC_getVwfrmKopDocAanDocSoortList.xml (vwfrmkopdocaandocsoort)</li> </ul> <p>Vanaf versie 1.23 is het beheer van documentsjablonen gesplitst in het beheer van <strong>Sjabloongroepen</strong> (tbdocumentsoorten) en <strong>Documentsjablonen</strong> (tbdocumenten). De oude tegel <em>Documentsjablonen</em> is hernoemd naar <strong>Sjabloongroepen</strong> en zal worden gebruikt voor het beheer van sjabloongroepen. De (nieuwe) tegel <em>Documentsjablonen</em> is bedoelt voor het beheer van de documentsjablonen: het aanmaken van nieuwe sjablonen en het wijzigen ervan plus het koppelen aan sjabloongroepen.</p> <p>Sjablonen zijn .odt of .dotx/.docx files waarin merge-coderingen zijn opgenomen die dynamisch worden gevuld met gegevens uit de database. Een sjabloon wordt opgeroepen met de menuoptie <em>Creëer document</em> op diverse plekken in de applicatie, mits de gebruiker documentcreatie-rechten heeft voor de betreffende module. Voor de sjabloondefinities en groep definities inzien en wijzigen moet de inlogger beheerrechten hebben: tbmedewerker.dnbeheerniveau = 99.</p> <p>Alle kolommen en knoppen op de sjabloonschermen zijn dan toegankelijk.</p> <h2 id=sjabloongroepen>Sjabloongroepen<a class=headerlink href=#sjabloongroepen title="Permanent link">¤</a></h2> <p>De sjablonen kunnen worden gekoppeld aan 1 of meerdere groepen, waarbij een groep toegekend kan worden aan één of meer modules door middel van hun moduleletters. Daar waar de gebruiker uiteindelijk een menuoptie <em>Creëer document</em> tot zijn beschikking heeft is dus deze moduleletter bepalend voor de inhoud van de radiobuttonlist: kies sjabloonsoort.</p> <ul> <li>A: Algemeen</li> <li>M: Management</li> <li>W: Omgeving</li> <li>O: APV/Overig</li> <li>H: Handhaving</li> <li>I: Info</li> <li>E: Milieu/gebruik (gedeeltelijk pre-wabo) + Inrichtingen/Vestigingen/Objectregistratie</li> <li>C: Horeca</li> <li>B: Bouw/Sloop (pre-wabo)</li> </ul> <p>Vervallen sjabloongroepen zijn niet zichtbaar voor de gebruiker bij de wizard creëer document.<br> In het detailscherm van een sjabloongroep, wordt de lijst met gekoppelde sjablonen getoond. Door middel van de plus- dan wel de min-knop, kunnen sjablonen gekoppeld/ontkoppeld worden aan de sjabloongroep. Er valt alleen te kiezen uit sjablonen die qua module overeenkomen met de toebedeelde modules aan de sjabloongroep. Ook zijn altijd zichtbaar de sjablonen die al gekoppeld zijn (ongeacht of deze sjablonen later vervallen zijn/ de module gewijzigd is waardoor logischerwijs het sjabloon niet opnieuw te kiezen is bij de sjabloongroep). Het daadwerkelijk aanmaken/verwijderen van sjablonen gebeurd bij de sjablonenlijst.</p> <h3 id=sjabloondefinitie-documentsjablonenlijst>Sjabloondefinitie (documentsjablonenlijst)<a class=headerlink href=#sjabloondefinitie-documentsjablonenlijst title="Permanent link">¤</a></h3> <p>In de lijst met documentsjablonen kunnen documentsjablonen verwijderd worden (inclusief parameters), nieuw aangemaakt en gekopieerd worden. Bij het maken van een kopie worden de parameters mee gekopieerd. Ook kan er op de lijst gefilterd en gezocht worden.</p> <h3 id=sjabloondefinitie-detailscherm>Sjabloondefinitie (detailscherm)<a class=headerlink href=#sjabloondefinitie-detailscherm title="Permanent link">¤</a></h3> <p>In het detailscherm van een documentsjabloon kan men het sjabloon na aanmaken vervolgens koppelen aan de gewenste sjabloongroep(en) via het blok <strong>Sjabloongroep(en)</strong>. Hierbij valt er te kiezen uit sjabloongroepen die niet vervallen zijn en waarvan de module van het sjabloon waar men op staat voorkomt in de modules van de sjabloongroep.<br> Voor bestaande sjablonen kan via het detailscherm op dezelfde manier de koppeling aan sjabloongroepen gewijzigd worden. Met de komst van dit blok is het veld <em>Sjabloongroep</em> komen te vervallen.</p> <h2 id=triggers>Triggers<a class=headerlink href=#triggers title="Permanent link">¤</a></h2> <h3 id=triggers-in-het-menu-opties-rechtsboven>Triggers in het menu opties rechtsboven<a class=headerlink href=#triggers-in-het-menu-opties-rechtsboven title="Permanent link">¤</a></h3> <ul> <li><strong>Toon uploads</strong> bij deze sjabloonfile. Hiermee wordt de uploadgeschiedenis getoond van het documentsjabloon zelf in de kolom dvtemplatebase64. Zie <a href=../../probleemoplossing/module_overstijgende_schermen/uploads_lijst/ >Upload Lijst</a></li> <li><strong>Verwijder upgeloade sjabloon</strong>. Hiermee wordt de kolom dvtemplatebase64 leeggemaakt. Zichtbaar doordat het aanvinkvakje voor het label <em>Sjabloon is upgeload in tabel</em> leeggemaakt wordt.</li> </ul> <h3 id=triggers-linksonder>Triggers linksonder<a class=headerlink href=#triggers-linksonder title="Permanent link">¤</a></h3> <ul> <li>Met de knop <strong>controleer SQL-statements</strong> worden de gevulde query-kolommen gevalideerd. De betreffende kolomnamen worden zichtbaar met een groen bolletje indien ok en met een rood bolletje indien het statement niet valide is.</li> <li>Met de knop <strong>upload sjabloonfile</strong> kan één document (met extensie .odt of .dotx of .docx) aangewezen worden, dat vervolgens met base64 opgeslagen wordt in de kolom dvtemplatebase64. Zichtbaar doordat het aanvinkvakje voor het label <em>Sjabloon is upgeload in tabel</em> gevuld is. Indien de kolom <em>(UNC-pad) + naam sjabloon</em> een lege waarde had, dan wordt deze gevuld met de naam van het zojuist geüploade document.</li> </ul> <p><strong>LET OP:</strong> indien de gebruikte merge-coderingen waarden bevatten die niet door de spellingchecker heenkomen, dan moet het sjabloon opgeslagen zijn zonder spellingchecker!!!</p> <ul> <li>De knop <strong>download sjabloonfile</strong> is alleen enabled indien de kolom dvtemplatebase64 gevuld is (zichtbaar doordat het aanvinkvakje voor het label <em>Sjabloon is geüpload in tabel</em> gevuld is) EN indien de kolom <em>(UNC-pad) + naam sjabloon</em> een gevulde waarde heeft. Indien deze laatste kolom zowel een UNC-pad heeft als een filenaam, dan wordt de file gedownload onder de filenaam op de standaard downloadmap.</li> <li>De knop <strong>bewerk opgeslagen sjabloon</strong> is alleen enabled indien de kolom dvtemplatebase64 gevuld is (zichtbaar doordat het aanvinkvakje voor het label <em>Sjabloon is geüpload in tabel</em> gevuld is) EN indien de kolom <em>(UNC-pad) + naam sjabloon</em> een gevulde waarde heeft. De knop is enabled indien</li> <li>de instelling <em>Sectie: Documenten Item: OnlyOffice</em> is aangevinkt (en dus OnlyOffice is geïnstalleerd).</li> <li>EN de extensie van de sjabloonnaam (dvtemplatebase64) komt voor in de kolom <em>Tekst</em> van deze instelling (waarbij in kolom <em>Tekst</em> de mogelijke extensies gescheiden zijn door een puntkomma, dus bijvoorbeeld docx;xslsx;).</li> </ul> <h3 id=triggers-rechtsonder>Triggers rechtsonder<a class=headerlink href=#triggers-rechtsonder title="Permanent link">¤</a></h3> <ul> <li>Met het aanvinkvakje (default aangevinkt) vervallen kaarten zichtbaar, kan de lijst gefilterd worden op alleen niet-vervallen sjablonen.</li> </ul> <h2 id=kolommen-van-sjabloon>Kolommen van sjabloon<a class=headerlink href=#kolommen-van-sjabloon title="Permanent link">¤</a></h2> <ul> <li>De kolom <strong>ID</strong> (dnkey) geeft de automatisch gegenereerde primary key weer van het sjabloon in de tabel tbdocumenten.</li> <li><strong>Naam/beschrijving</strong> (dvomschrijving). Vrij in te voeren naam voor het sjabloon, zoals die voor gebruikers zichtbaar worden in een lijst, wanneer de gebruiker de wizard <em>Maakdocument</em> aanroept.</li> <li><strong>Naam van sjabloon in Xential</strong> (dvnaaminexternsjablprog). Moet alleen gevuld worden indien het OpenWave sjabloon doorgeefluik is naar een Xentail-sjabloon. Zie: <a href=../../probleemoplossing/programmablokken/xential/ >Xential</a>.</li> <li><strong>Compartiment</strong> (dnkeycompartiment). Indien het sjabloon hier wordt toegekend aan een <a href=../compartimenten/ >compartiment</a> kan dit sjabloon alleen worden gebruikt door iemand die lid is van dat compartiment. Omgekeerd: de inloggers die geen lid zijn van een compartiment zien enkel sjablonen die ook niet zijn toegekend aan een compartiment.</li> <li>Met het <strong>Volgordenummer</strong> kan de volgorde van de sjabloonnamen bepaald worden zoals die voor gebruikers zichtbaar worden in een lijst, wanneer de gebruiker de wizard <em>Maakdocument</em> aanroept via optie <em>Creëer document</em>.</li> <li><strong>Vervaldatum</strong>. Vervallen documentsjablonen zijn niet zichtbaar voor de gebruiker bij de wizard <em>Maakdocument</em>.</li> <li><strong>Te genereren documentnaam</strong> (dvtemplate). Bij het samenvoegen in de wizard <em>Maakdocument</em> van sjabloon en databasevelden wordt een nieuw document gecreëerd. Hier kan de gewenste documentnaam worden ingevuld (zonder extensie). Indien deze kolom is gevuld dan geldt het volgende: de nieuwe documentnaam is de waarde van deze kolom met het extensiegedeelte (inclusief punt) uit de kolom <em>(uncpad) + naam sjabloon</em> (dvdocumentnaam) waarbij de extensie .dotx wordt omgezet naar .docx. De variabelen:</li> <li>%date% in dvtemplate wordt door de applicatie vervangen door 'yyyymmdd' van de systeemdatum</li> <li>%login% in dvtemplate wordt vervangen door de medewerkerscode van de inlogger</li> <li>%hoofdzaaknr% in dvtemplate wordt vervangen door de wavezaakcode van de hoofdzaak c.q. inrichting</li> <li>%deelzaaknr% in dvtemplate wordt vervangen door de wavezaakcode van de deelzaak (dus advies, inspectie of bezwaar/beroep)</li> <li>%hoofddmsnr% in dvtemplate wordt vervangen door de externe zaak/DMS code (dvintzaakcode) van de hoofdzaak c.q. inrichting</li> <li>%deeldmsnr% in dvtemplate wordt vervangen door de externe zaak/DMS code (dvintzaakcode) van de de deelzaak (dus advies, inspectie of bezwaar/beroep)</li> <li>%teller% in dvtemplate wordt vervangen door uniek briefnummer dat gegenereerd wordt op moment van aanmaken van brief mits de instelling <em>Sectie: Documenten en Item: WaveBriefNummer</em> bestaat en is aangevinkt</li> <li>%adres% in dvtemplate wordt vervangen door het adres + de woonplaats van de hoofdzaak/inrichting</li> <li>%ExtDocIdent% (hoofdlettergevoelig!) in dvtemplate wordt vervangen door de externe documentidentifier die verkregen wordt door een Stuf Zaak/DMS genereerdocumentidentificatie-bericht. Alleen van toepassing indien automatische opslag in een DMS via Stuf Zaak/DMS. Wanneer OpenWave geen externe documentidentifier kan bemachtigen, blijft de tag %ExtDocIdent% staan in de documentnaam. Indien kolom dvtemplate leeg is dan geldt als te genereren documentnaam de waarde van de kolom <em>(UNC-pad) + naam sjabloon</em> (dvdocumentnaam) exclusief het eventuele UNC-pad. Ook hier wordt .dotx omgezet naar .docx.</li> </ul> <p>dvtemplate heeft de waarde <em>vraagaanvulling_%date%</em> en de <em>(UNC-pad) + naam sjabloon</em> (dvdocumentnaam) heeft de waarde: <em>Beleefde vraag aanvulling.dotx</em>, dan wordt de te genereren documentnaam: <em>vraagaanvulling_20170420.docx</em></p> <ul> <li><strong>Benaderbaar vanuit tabel</strong>. Deze kolom is verplicht en wordt onder meer gebruikt om de query variabelen :keyvergunning, :keyinrichting, :keyinspectie, :keyinspectiebezoek :keyadvies en :keyklacht en :keyadres en :keylocatie en :keybezwaarberoep met de juiste contextuele waarde te vullen (zie hieronder query-variabelen). Niet alle tabelnamen zijn zinvol. Alleen tbomgvergunning (indien een document wordt gevormd op basis van de data uit de actieve kaart in tbomgvergunning), tbhandhavingen, tbovvergunningen, tbmilinrichtingen, tbmilvergunningen, tbbouwvergunningen en tbinfoaanvragen zijn zinvol m.b.t. de variabele :keyvergunning en :keylocatie. En verder de tabel tbinspecties m.b.t. de variabele :keyinspectie en de tabel tbinsbezoeken m.b.t. :keyinspectiebezoek, tbmilinrichtingen m.b.t. :keyinrichting en tbadviezen m.b.t. :keyadvies en tbcontactadressen m.b.t. :keyadres en tbklachten m.b.t. :keyklacht en tot slot tbbezwaarberoep m.b.t. :keybezwaarberoep. Dit zijn tevens de plekken waar de gebruiker (mits geautoriseerd) de mogelijkheid heeft om de wizard <em>Maakdocument</em> aan te roepen</li> <li><strong>Voor module</strong>. Lijkt dubbelop i.v.m. <em>benaderbaar vanuit tabelnaam</em>, maar zowel voor klachten, adviezen en inspecties en bezwaar/beroep geldt dat zij vanuit verschillende modules oproepbaar zijn. Dus als een document wordt gebruikt bij een inspectie waarbij gegevens uit de bijbehorende omgevingszaak worden gebruikt dan is de tabelnaam: tbinspecties en de moduleletter: W.<br> Mogelijkheden zijn W: Omgeving O: APV/Overig, H: Handhaving, I: Info, E: Milieu/gebruik (gedeeltelijk pre-wabo) + Inrichtingen/Vestigingen/Objectregistratie, C: Horeca en B: Bouw/Sloop (pre-wabo)</li> <li><strong>Documenttype DMS</strong>. Deze kolom is noodzakelijk indien het te genereren document direct wordt doorgezet met een zaak/DMS koppeling (<em>autom upload (dlautoupload)</em> is aangevinkt EN indien GEEN compartiment dan de kolom <em>Tekst</em> van instelling <em>Sectie: KoppelingDOCNAARDMS</em> en <em>Item: Methode</em> heeft de waarde StUF-ZAKEN 310, indien WEL compartiment dan Documenten opslag in DMS aangevinkt en veld DMS-Methode heeft de waarde Stuf-zaken 310 bij compartimentdefinitie) naar een extern DMS, waarbij documenttype verplicht is. Wordt ook gebruikt bij documentregistratie in OpenWave (tbcorrespondentie) indien na het creëren van een document het document automatisch opgeslagen wordt en een regel in tbcorrespondentie wordt aangemaakt. Dit is het geval indien <em>Getal1</em> van <em>Sectie: Documenten en Item: Documentregistratie</em> de waarde 1 heeft. De documenttypen keuzelijst bestaat in principe uit de niet vervallen rijen van beheertabel tbdocumenttypes waarbij geldt dat als er een compartiment gekozen is bij de sjabloondefinitie, de rijen beperkt zijn uit tbdocumenttypes voor gekozen compartiment. Indien er geen compartiment gekozen is bij de sjabloondefinitie bestaat de keuzelijst uit alle niet vervallen rijen EN geen gevulde dnkeycompartiment uit tbdocumenttypes</li> <li><strong>Aanduiding vertrouwelijkheid</strong>. Deze kolom is alleen noodzakelijk indien het te genereren document direct wordt doorgezet met een zaak/DMS koppeling (<em>autom upload (dlautoupload)</em> is aangevinkt EN de kolom <em>Tekst</em> van instelling <em>Sectie: KoppelingDOCNAARDMS</em> en <em>Item: Methode</em> heeft de waarde StUF-ZAKEN 310) naar een extern DMS, waarbij het metadata gegeven vertrouwelijkheidsaanduiding verplicht is. Wordt ook gebruikt bij documentregistratie in OpenWave (tbcorrespondentie) indien na het creëren van een document het document automatisch opgeslagen wordt en een regel in tbcorrespondentie wordt aangemaakt. Dit is het geval indien <em>Getal1</em> van <em>Sectie: Documenten en Item: Documentregistratie</em> de waarde 1 heeft</li> <li><strong>Alleen gemeentes</strong>. Alleen indien deze kolom gevuld is heeft dat consequenties voor de lijst met sjablonen die de gebruiker kan kiezen met de wizard <em>Maakdocument</em>. De kolom kan gevuld worden met de gemeentelijke identificatiecoderingen uit de tabel33 (bijv. 0197 = Aalten) gescheiden door een puntkomma. Indien gevuld zal het sjabloon alleen benaderbaar zijn indien de gemeente van de locatie waar de zaak, inrichting c.q. inspectie of advies zich afspeelt voorkomt in deze rij gemeente-identificaties</li> <li><strong>Moet dig. ondertekend worden</strong> (dllmoetdigondertekenen). Indien aangevinkt zal een geregistreerd document op basis van dit sjabloon ook geregistreerd staan als <em>moet digitaal ondertekend worden</em></li> <li><strong>Contactpersoon kiezen</strong> (dlcontactverplicht). Indien aangevinkt dan zal de inlogger bij het creëren van een document gevraagd worden een contactpersoon te kiezen. De keuze is beperkt tot de contactpersonen die bij de hoofdzaak/inrichting gedefinieerd zijn. De bezwaar/beroep tabel heeft haar eigen contactpersonen. De dnkey van deze contactpersoon wordt gebruikt om de variabele :keyadres uit de SQL-statements te vullen</li> <li><strong>Bijlages aanwijzen uit geregistreerde documenten</strong> (dlbijlagesregdoc). Indien aangevinkt en de instelling <em>Getal1</em> van <em>Sectie: Documenten en Item: Documentregistratie</em> de waarde 1 heeft (hetgeen betekent dat gecreëerde documenten automatisch worden opgeslagen in geregistreerde documenten (tbcorrespondentie), dan zal de inlogger bij het creëren van een document gevraagd worden een of meer andere geregistreerde documenten aan te wijzen behorende bij dezelfde zaak die opgeslagen worden in de tabel tbcorrespbijlages als dochter van het aan te maken (geregistreerde) document</li> <li><strong>Voorgestelde documentnaam overschrijfbaar?</strong> (dlnaammuteerbaar). Indien aangevinkt zal de voorgestelde documentnaam alsnog te wijzigen zijn bij het creëren van het document</li> <li><strong>Document mag alleen per post verzonden worden</strong> (dlmoetperpost). Indien aangevinkt dan zal de gebruiker bij het creëren van een document op basis van dit sjabloon dit gegeven NIET kunnen wijzigen. Het gevolg is ook dat bij een automatische registratie van een document op grond van dit sjabloon de kolom tbcorrespondentie.dlmoetperpost ook de waarde T krijgt en NIET muteerbaar is. indien niet aangevinkt dan kan de gebruiker bij de creatie van een document wel de keuze maken per post of per email</li> <li><strong>Richting</strong> (dvdocrichting). Uitgaand of Intern. Deze geldt als default voor de waarde die de gebruiker kan opgeven tijdens de creatie van het document op basis van dit sjabloon. Deze eigenschap wordt overgenomen in de automatische registratie van het document (tbcorrespondentie) indien dat zo is ingesteld</li> <li><strong>(UNC-pad) + naam sjabloon</strong> (dvdocumentnaam). Deze kolom moet in ieder geval een filenaam bevatten met extensie .dotx, docx of .odt. Indien de filenaam voorafgegaan wordt door een UNC-pad EN de kolom dvtemplatebase64 is NIET gevuld (zichtbaar indien <em>Sjabloon is upgeload in tabel</em> leeg is: leeg te maken via de menu optie),dan zal het programma proberen het sjabloon van de fileshare op te halen. Dan moeten ook de kolommen*Tekst*bij de instellingen <em>Sectie: Documenten</em> en de <em>Items: OphalenViaFileserver_Domain, OphalenViaFileserver_Password, OphalenViaFileserver_Username en OphalenViaFileserver_Wins</em> gevuld zijn. Indien de kolom dvtemplatebase64 WEL is gevuld (zichtbaar indien*Sjabloon is upgeload in tabel* aangevinkt is) dan zal het programma voor het samenvoegen de sjabloon uit deze kolom halen. Er is dan geen toegang tot de fileshare nodig (behalve indien het gegenereerde document daarop automatisch geplaatst moet worden)</li> <li><strong>Sjabloon is upgeload in tabel</strong> (dvtemplatebase64 is wel/niet gevuld). Zie hierboven en bij de triggers upload/download sjabloon</li> <li><strong>autom upload</strong> (dlautoupload). Indien aangevinkt heeft dat als consequentie dat het programma het te genereren document direct gaat opslaan: Indien</li> <li>de kolom <em>Tekst</em> van instelling <em>Sectie: KoppelingDOCNAARDMS</em> en <em>Item: Methode</em> de waarde <em>StUF-ZAKEN 310</em> heeft EN de externe zaakcode is gevuld EN de instelling <em>Sectie: Documenten</em> en <em>Item: OphalenViaDMS</em> is aangevinkt, dan wordt het document doorgegeven met de zaak/DMS services. Zie <a href=../../probleemoplossing/programmablokken/upload_document/upload_naar_stuf_zaak_dms/ >Upload documenten met StUF zaak/dms</a></li> <li>de kolom <em>Tekst</em> van instelling <em>Sectie: KoppelingDOCNAARDMS</em> en <em>Item: Methode</em> de waarde <em>CMIS 1.0</em> heeft EN de instelling <em>Sectie: Documenten, Item: OphalenViaDMS</em> is aangevinkt EN de kolom <em>Item</em> van <em>Sectie: Aanmaakmappen</em> verwijst naar een kaart in tbinitialisatie met de juiste CMIS map-informatie, dan wordt het document doorgegeven met CMIS. Zie: <a href=../../probleemoplossing/programmablokken/upload_document/upload_met_cmis/ >Upload documenten met CMIS</a></li> <li>de instelling <em>Sectie: Documenten, Item: OphalenViaFileserver</em> is aangevinkt EN de kolom <em>Item</em> van <em>Sectie: Aanmaakmappen</em> verwijst naar een kaart in tbinitialisatie met de juiste fileshare-mapinformatie, dan wordt het document geplaatst op de fileshare. Zie: <a href=../probleemoplossing/programmablokken/upload_document/upload_naar_fileshare>Upload documenten naar fileshare</a>. Indien sprake is van een hybride situatie van zowel opslag mogelijk op fileserver als in DMS kan een voorkeur opgegeven worden met de instelling <em>Sectie: Documenten Item: BriefAutoOpslaan</em>. Indien <em>Getal1</em> wordt gevuld met 1 dan zal OpenWave bij het creëren van een brief op basis van een sjabloon als default de fileserver voorstellen. Bij 2 wordt DMS voorgesteld en bij 3 de optie Nee (hetgeen betekent: niet automatisch opslaan). Deze instelling geldt alleen voor de Host. Indien namelijk sprake is van een compartiment wordt deze zelfde informatie opgehaald uit de nieuwe kolom met label <em>Default brieven opslaan</em> (tbcompartiment.dnAutoopslaan.md)</li> <li><strong>Item Sectie Aanmaakmappen</strong>. Deze kolom is alleen zinvol indien <em>autom upload</em> is aangevinkt en die automatische upload van het gegenereerde document moet naar de fileshare of via CMIS in een DMS. Hier wordt verwezen naar de instellingskaart kaart met <em>Sectie : Aanmaakmappen</em> waarin exact wordt verwezen onder welke map het document geplaatst moet worden. Zie: <a href=../probleemoplossing/programmablokken/upload_document.md>Upload document</a></li> <li><strong>Queries</strong>. Er zijn 10 formqueries (queries waarvan het resultaat van het SQL-statement uit maar één regel mag bestaan) en 12 childqueries (de resultaatsets van deze SQL-statements mogen wel meer dan één regel bevatten). In het .odt of .dotx of .docx sjabloon worden childqueries gebruikt om tabellen te vullen en formqueries voor één op één merge-coderingen. Zie kopjes formquery en childquery. De views waarvan de naam begint met ‘VwFrm’ zijn de views die goed gedocumenteerd zijn en door Rem bij updates worden beschermd. Het is dus raadzaam alleen deze views als onderlaag van de queries te gebruiken. Zie <a href=https://www.open-wave.nl/community/online/datadictionary/Index.html.md>https://www.open-wave.nl/community/online/datadictionary/Index.html</a>.</li> </ul> <p>=====Queries voor merge =====<br> Queries worden gebruikt om een documentsjabloon te mergen met gegevens uit de database.</p> <p>In het geval dat het OpenWave sjabloon een doorgeefluik is naar een Xential sjabloon (kolom dvnaaminexternsjablprog is dan gevuld), worden de resultsets van de queries gebruikt om een xml te construeren die Xential gebruikt om te mergen. Zie voor deze toepassing: <a href=../../probleemoplossing/programmablokken/xential/ >Xential</a>.</p> <p>====Formquery ====</p> <p>Het resultaat van een formquery wordt gebruikt om merge-coderingen in de vorm van &lt;1&gt; of &lt;301&gt; in een sjabloon te vervangen met waardes uit de database.</p> <p><strong>LET OP:</strong> Zorg dat de spellingchecker uit staat EN zorg dat de coderingen in het sjabloon zonder opmaak zijn (dus echt elke code selecteren en opmaak wissen uitvoeren)</p> <p>Een eenvoudig sjabloonvoorbeeld van een ontvangstbevestiging:<br> <code><br> &lt;101&gt;<br> &lt;102&gt;<br> &lt;103&gt;<br> &lt;104&gt;<br> Rommeldam, &lt;7&gt;<br> Betreft: &lt;5&gt;<br> &lt;105&gt;,<br> Hierbij kan ik u mededelen dat uw aanvraag betreffende een omgevingsvergunning voor &lt;1&gt; op &lt;2&gt; te &lt;3&gt;,<br> in goede orde is ontvangen op &lt;4&gt;.<br> De aanvraag wordt behandeld onder zaakcode &lt;6&gt;.<br> Wij hopen de zaak binnen &lt;8&gt; dagen afgerond te hebben.<br> Hoogachtend,<br> Burgemeester en wethouders van Gemeente Rommeldam,<br> namens dezen,<br> hoofd afdeling Vergunningen,<br> &lt;201&gt; &lt;204&gt; &lt;203&gt; &lt;205&gt;<br> Email: &lt;206&gt;<br> Tel: &lt;202&gt;<br> </code></p> <p>Bij het samenvoegen van een sjabloon met gegevens uit de database geldt het volgende:</p> <p>De resultaat set van een formquery moet dus bestaan uit één rij. Als de query meer rijen oplevert wordt alleen de eerste rij gebruikt.<br> De waardes uit de kolommen van die rij worden samengevoegd met merge-coderingen uit de bijbehorende dotx/odt/docx-file. OpenWave beschouwt elk getal tussen een “groter dan teken” (&gt;) en een “kleiner dan teken” (&lt;) als een te vervangen merge-code, bijv. &lt;1&gt; of &lt;201&gt; of &lt;531&gt;.</p> <ul> <li>De merge-coderingen met nummers 1 - 100 verwijzen naar de kolomnummers van de resultaat set die door de query Form Query wordt bepaald.</li> <li>De coderingen 101-200 verwijzen naar de kolomnummers van Form Query-2.</li> <li>De coderingen 201-300 verwijzen naar de kolomnummers van Form Query-3.</li> <li>De coderingen 301-400 verwijzen naar de kolomnummers van Form Query-4.</li> <li>De coderingen 401-500 verwijzen naar de kolomnummers van Form Query-5.</li> <li>De coderingen 501-600 verwijzen naar de kolomnummers van Form Query-6.</li> <li>De coderingen 601-700 verwijzen naar de kolomnummers van Form Query-7.</li> <li>De coderingen 701-800 verwijzen naar de kolomnummers van Form Query-8.</li> <li>De coderingen 801.1300 verwijzen naar de kolomnummers van Form Query-9.</li> <li>De coderingen 901.1300 verwijzen naar de kolomnummers van Form Query-10.</li> </ul> <p></wrap></p> <p>Wanneer de samenvoegfunctie van OpenWave dus in de dotx/docx/odt-file de merge-code &lt;304&gt; tegenkomt zal hij deze merge-code vervangen door de waarde van de 4e kolom van de resultaat set van formquery-4. De merge-code &lt;6&gt; zal hij vervangen door de waarde van de 6e kolom van de resultaat set uit formquery-1.</p> <p>In bovenstaand voorbeeld worden coderingen gebruikt uit groep formquery-1, formquery-2 en formquery-3.</p> <p>Formquery-1 zou de volgende kunnen zijn (de aliassen - vanwege &lt; en &gt; tussen dubbele quootjes - verwijzen naar de merge-codering in het sjabloon. Niet verplicht wel handig):</p> <div class=highlight><pre><span></span><code><span class=k>Select</span>
<span class=w>  </span><span class=n>a</span><span class=p>.</span><span class=n>DVAANVRAAGNAAM</span><span class=w> </span><span class=ss>&quot;&lt;1&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>a</span><span class=p>.</span><span class=n>DVOBJADRES</span><span class=w> </span><span class=ss>&quot;&lt;2&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>a</span><span class=p>.</span><span class=n>DVOBJPLAATS</span><span class=w> </span><span class=ss>&quot;&lt;3&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>a</span><span class=p>.</span><span class=n>DDAANVRAAG</span><span class=w> </span><span class=ss>&quot;&lt;4&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>a</span><span class=p>.</span><span class=n>DVSOORTAANVRAAG</span><span class=w> </span><span class=ss>&quot;&lt;5&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>a</span><span class=p>.</span><span class=n>DVZAAKCODE</span><span class=w> </span><span class=ss>&quot;&lt;6&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>fn_ddmaandjjjj</span><span class=p>(</span><span class=n>fn_vandaag</span><span class=p>(</span><span class=mi>0</span><span class=p>))</span><span class=w> </span><span class=ss>&quot;&lt;7&gt;&quot;</span>
<span class=w>  </span><span class=k>from</span>
<span class=w>  </span><span class=n>VWFRMOMGVERGUNNINGEN</span><span class=w> </span><span class=n>a</span>
<span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>DNKEYOMGVERGUNNING</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>keyvergunning</span>
</code></pre></div> <p>Formquery-2:</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span>
<span class=w>  </span><span class=n>DVAVRBEDRIJF</span><span class=w> </span><span class=ss>&quot;&lt;101&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>DVAVRTAV</span><span class=w> </span><span class=ss>&quot;&lt;102&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>DVAVRADRES</span><span class=w> </span><span class=ss>&quot;&lt;103&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>DVAVRPOSTCODE</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s1>&#39; &#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>DVAVRWOONPLAATS</span><span class=w> </span><span class=ss>&quot;&lt;104&gt;&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=n>DVAVRBRIEFAANHEF</span><span class=w> </span><span class=ss>&quot;&lt;105&gt;&quot;</span>
<span class=w>  </span><span class=k>FROM</span><span class=w> </span><span class=n>VWFRMOMGAVRCONTACTEN</span>
<span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>DNKEYOMGVERGUNNINGEN</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>keyvergunning</span>
</code></pre></div> <p>Formquery-3:</p> <div class=highlight><pre><span></span><code><span class=k>Select</span>
<span class=w>  </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>DVGESLACHT</span><span class=o>=</span><span class=s1>&#39;M&#39;</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=s1>&#39;dhr.&#39;</span>
<span class=w>       </span><span class=k>when</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>DVGESLACHT</span><span class=o>=</span><span class=s1>&#39;V&#39;</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=s1>&#39;mevr.&#39;</span>
<span class=w>       </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=ss>&quot;&lt;201&gt;&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=n>a</span><span class=p>.</span><span class=n>DVTELEFOON</span><span class=w> </span><span class=p>,</span>
<span class=w>   </span><span class=n>a</span><span class=p>.</span><span class=n>DVTUSSENVOEGSEL</span><span class=p>,</span>
<span class=w>   </span><span class=n>a</span><span class=p>.</span><span class=n>DVVOORLETTERS</span><span class=p>,</span>
<span class=w>   </span><span class=n>a</span><span class=p>.</span><span class=n>DVIBBNAAMMW</span><span class=p>,</span>
<span class=w>   </span><span class=n>a</span><span class=p>.</span><span class=n>DVEMAIL</span>
<span class=w>   </span><span class=k>from</span><span class=w> </span><span class=n>VWFRMACTIEFINBEHBIJ</span><span class=w> </span><span class=n>a</span>
<span class=w>   </span><span class=k>WHERE</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>DNKEYOMGVERGUNNINGEN</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>keyvergunning</span>
</code></pre></div> <h3 id=query-variabelen>Query-variabelen<a class=headerlink href=#query-variabelen title="Permanent link">¤</a></h3> <ul> <li>Bij afspraak geldt de variabele <strong>:keyvergunning</strong> – indien mogelijk - in een form- of childquery door OpenWave gevuld wordt met het betreffende waarde van de keykolom van de actieve Omgevingsvergunning, Handhaving, Bouw/sloopvergunning, Overige vergunning, Horecavergunning, Bestemmingsplan of Infoaanvraag, Milieu-gebruiksinrichting/vergunning/melding.</li> <li>De variabele <strong>:keyadvies</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de actieve kaart uit de Adviezentabel. Handig wanneer vanuit het adviezenscherm een document wordt aangemaakt.</li> <li>De variabele <strong>:keyinspectie</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de actieve kaart uit de Inspectietabel (inspectie-traject).</li> <li>De variabele <strong>:keyinspectiebezoek</strong> zal – indien mogelijk - in een SQL-query door de OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de actieve kaart uit de Inspectiebezoektabel. Handig wanneer vanuit het inspectiebezoekscherm een document wordt aangemaakt.</li> <li>De variabele <strong>:keyklacht</strong> zal – indien mogelijk - in een SQL-query door de OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de actieve kaart uit de klachten bij een inrichting. Handig wanneer vanuit het klachtenscherm een document wordt aangemaakt.</li> <li>De variabele <strong>:keyinrichting</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de de Inrichting die te herleiden is vanuit de tabel waarvandaan het document wordt gecreëerd: de hoofdzaken (tbomgvergunning, tbhandhaving e.d.) kunnen namelijk gekoppeld zijn aan een inrichting. Zo ook de Inspecties en Inspectiebezoeken en Klachten.</li> <li>De variabele <strong>:keyadres</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de actieve kaart uit de tbcontactadressen, om bijvoorbeeld een brief te maken vanuit een aangewezen contactpersoon. Wanneer vanuit een andere tabel het document wordt gecreëerd en de inlogger een contactpersoon heeft aangewezen (indien contactpersoon verplicht bij het documentsjabloon is aangevinkt) zal deze waarde gebruikt worden.</li> <li>De variabele <strong>:keybezwaarberoep</strong> zal – indien mogelijk - in een SQL-query door de OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de actieve kaart van tbbezwaarberoep (dus indien een document vanuit bezwaar/beroep wordt gecreëerd).</li> <li>De variabele <strong>:keylocatie</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende waarde van de sleutelkolom van de de locatie (tbperceeladressen) die te herleiden is vanuit de tabel waarvandaan het document wordt gecreëerd.</li> <li>De variabele <strong>:keysaangewezenbijlages</strong> : zie hieronder bij speciale childqueries: Opsommen aangewezen bijlages.</li> <li>De variabele <strong>:keysjabloon</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende naam van het gebruikte sjabloon (tbdocumenten).</li> <li>De variabele <strong>:keydsoproject</strong> zal – indien mogelijk - in een SQL-query door OpenWave gevuld wordt met de betreffende dnkey van het DSO-project dat aan een omgevingzaak verbonden kan zijn.</li> </ul> <h4 id=openwave-database-functies>OpenWave database functies<a class=headerlink href=#openwave-database-functies title="Permanent link">¤</a></h4> <p>OpenWave heeft zelf een aantal functies op de database gedefinieerd - zoals fn_ddmaandjjjj() - die gebruikt kunnen worden in allerlei queries.<br> Zie:<a href=../openwave_database-functies/ >OpenWave database functies</a>.</p> <h3 id=childquery>Childquery<a class=headerlink href=#childquery title="Permanent link">¤</a></h3> <p>Het resultaat van een childquery wordt gebruikt om merge-coderingen in de vorm van een getal tussen accolades (zoals {1} en {2}) binnen tabellen van een sjabloon te vervangen met waardes uit de database. Van boven naar beneden zullen de {1} en {2} merge-coderingen van de eerste tabel in het sjabloon vervangen worden door childquery-1 en de merge-coderingen van de tweede tabel met die van childquery2 en zo verder.<br> De tabel(len) in de sjabloonfile moeten uit twee regels bestaan: de eerste regel is voor de vaste labels en in de tweede regel komen dan de merge-coderingen.<br> Het aantal regels dat de tabel uiteindelijk in het te genereren document gaat innemen is afhankelijk van het aantal rijen uit de resultaat set.</p> <p>Het eenvoudige .docx voorbeeld van een ontvangstbevestiging is hieronder uitgebreid met een tabel waarin het de bedoeling is dat daar de onderdelen van de omgevingszaak worden opgesomd:</p> <p><img alt class=media loading=lazy src=../img/applicatiebeheer/instellen_inrichten/sjabloonmettabel.png width=600></p> <p>De childquery-1 kan er als volgt uitzien:</p> <div class=highlight><pre><span></span><code><span class=k>select</span>
<span class=w>  </span><span class=n>dvtoestemmingnaam</span><span class=p>,</span>
<span class=w>  </span><span class=n>dvwerkzaamheden</span>
<span class=w>  </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmtoestemmingen</span>
<span class=w>  </span><span class=k>where</span>
<span class=w>  </span><span class=n>vwfrmtoestemmingen</span><span class=p>.</span><span class=n>dnkeyomgvergunningen</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>keyvergunning</span>
<span class=w>  </span><span class=k>and</span><span class=w> </span><span class=n>vwfrmtoestemmingen</span><span class=p>.</span><span class=n>ddvervallen</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>null</span>
</code></pre></div> <p><strong>LET OP:</strong> Bij gebruik van .odt-sjablonen met Libre Office moeten in plaats van cijfers, letters gebruikt worden. Dus de notatie in een cel is dan {a}, {b} etc. Hiervoor moet ook een extra programma-instelling aangemaakt worden en aangevinkt: <em>Sectie: Programma</em> en <em>Item: SamenvoegenTabellenMetLetters</em>.</p> <p>In de tabellen mogen meerdere merge-coderingen per cel gebruikt worden al of niet in combinatie met tekst:</p> <p><img alt class=media loading=lazy src=../img/applicatiebeheer/instellen_inrichten/tabelmettekstencodering.png width=600></p> <p>LET OOK OP: Indien in het sjabloon een tabel is opgenomen in de header of footer dan geldt het volgende:</p> <ul> <li>in die headertabel mogen alleen merge-coderingen gebruikt worden die naar formqueries verwijzen, dus &lt;1&gt; of &lt;203&gt;). Dus niet: {1} of {201}</li> <li>de tabel in de header telt wel mee in de tellingen van het aantal tabellen. Dus stel dat in de header één tabel staat en in de body staat ook één tabel, dan verwijst de tabel van de body naar childquery2.</li> </ul> <h3 id=speciale-childquery-samenvoegen-met-externe-bron>Speciale childquery: samenvoegen met externe bron<a class=headerlink href=#speciale-childquery-samenvoegen-met-externe-bron title="Permanent link">¤</a></h3> <p>Het is mogelijk om delen van een sjabloon samen te voegen met gegevens uit een externe bron in plaats van met gegevens uit de OpenWave database. Dat kan vooralsnog alleen bij childqueries.<br> OpenWave zal bij een childquery zoeken naar speciale gevallen die worden herkend aan een vaste formulering in die childquery.<br> Momenteel zijn daartoe enkel de volgende mogelijkheden:</p> <ul> <li>Opsomming van afgekeurde items uit digitale checklist. De tekst in de bijbehorende childquery moet zijn: <em>JSON_DigitaleChecklisten_Controle_brief_1<br> _. Zie hiertoe het kopje _Instellingen voor overnemen van afgekeurde checklist-items in document</em> bij <a href=../probleemoplossing/programmablokken/digitale_checklijsten.md>Digitale checklisten</a>.</li> </ul> <h3 id=speciale-childquery-opsommen-aangewezen-bijlages>Speciale childquery: Opsommen aangewezen bijlages<a class=headerlink href=#speciale-childquery-opsommen-aangewezen-bijlages title="Permanent link">¤</a></h3> <p>De variabele <strong>:keysaangewezenbijlages</strong> kan gebruikt worden om in een childquery een resultaat set te verkrijgen van kaarten uit tbcorrespondentie (geregistreerde documenten) die de gebruiker heeft aangewezen als bijlages. De variabele :keysaangewezenbijlages worden door OpenWave on the fly vervangen door een opsomming van de dnkeys uit tbcorrespondentie die als bijlage zijn aangewezen gescheiden door een komma en tussen twee haakjes.<br> De childquery is bijvoorbeeld als volgt gedefinieerd: <em>select dvfilenaam, dvkenmerk from vwfrmcorrespondentie where dnkey in :keysaangewezenbijlages</em>. OpenWave vervangt :keysaangewezenbijlages in de query door de opsomming zodat de geëvalueerde query bijvoorbeeld wordt: <em>select dvfilenaam, dvkenmerk from vwfrmcorrespondentie where dnkey in (1208231,1207836)</em>. Indien geen bijlages aangewezen dan wordt :keysaangewezenbijlages vervangen door (null).</p> <p>De query kan dan ook zijn:</p> <div class=highlight><pre><span></span><code><span class=k>select</span>
<span class=w>  </span><span class=s1>&#39;geen bijlage&#39;</span>
<span class=w>  </span><span class=k>where</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>exists</span>
<span class=w>  </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmcorrespondentie</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=p>(:</span><span class=n>keysaangewezenbijlages</span><span class=w> </span><span class=p>))</span>

<span class=w> </span><span class=k>Union</span>

<span class=k>select</span>
<span class=w>  </span><span class=n>dvfilenaam</span>
<span class=w>  </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmcorrespondentie</span>
<span class=w>  </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=p>(:</span><span class=n>keysaangewezenbijlages</span><span class=p>)</span>
</code></pre></div> <h2 id=invoegen-tekstblokken-op-basis-van-een-query-aanroep-naar-tbqueries>Invoegen tekstblokken op basis van een query-aanroep naar tbqueries<a class=headerlink href=#invoegen-tekstblokken-op-basis-van-een-query-aanroep-naar-tbqueries title="Permanent link">¤</a></h2> <p>Er kan in het sjabloon een speciale vorm van merge-codering worden opgenomen die verwijst naar een kaart in tbqueries. In dat geval wordt die aangeroepen query geëvalueerd en het resultaat wordt op de bewuste plek in het sjabloon ingevoegd. Een dergelijke verwijzing ziet er als volgt uit:</p> <ul> <li>&lt;%query(codevanquery)%&gt;</li> <li>of &lt;%query(codevanquery,:keyvergunning)%&gt;</li> <li>of &lt;%query(codevanquery,:keylocatie)%&gt;</li> <li>of &lt;%query(codevanquery,:keyinrichting)%&gt;</li> </ul> <p>Hier dus geen verwijzing naar een formquery of childquery bij het sjabloon, maar een verwijzing naar een kaart in tbqueries.</p> <p>LET OP: De hier gebruikte merge-codering zal niet door de spellingchecker heenkomen, voor een goede werking zal het sjabloon daarom opgeslagen moeten zijn zonder spellingchecker!!!</p> <p>Op grond van de eerste parameter (codevanquery in bovenstaand voorbeeld) wordt in tbqueries de kaart met dvcode = <em>codevanquery</em> gezocht en de bijbehorende query geëvalueerd, waarbij de variabele {id} in de query wordt vervangen door de tweede parameter (indien aanwezig). Die tweede parameter moet één van de bovenvermelde query-variabelen zijn (dus :keyvergunning of :keylocatie of :keyinrichting) en is dus afhankelijk van de tabel van waaruit het sjabloon benaderd wordt.<br> Stel: de tabel is tbomgvergunning. Dan zal de tweede parameter :keyvergunning dus vervangen worden door de dnkey van tbomgvergunning van waaruit het document wordt gecreëerd.</p> <p>Voorbeeld: de aangeroepen query met dvcode = <em>omgeving_tkstblk_1</em> op grond van de aanroep <em>&lt;%query(omgeving_tkstblk_1,:keyvergunning)%&gt;</em><br> kan de volgende inhoud hebben:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>dvsoortproc</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmomgvergunningen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkeyomgvergunning</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;M&#39;</span>
<span class=w>              </span><span class=k>then</span><span class=w>  </span><span class=s1>&#39;Dit is ten gevolge van artikel x van wet y&#39;</span>
<span class=w>              </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>::</span><span class=nb>text</span><span class=w> </span><span class=k>end</span>
</code></pre></div> <p>Hetgeen wil zeggen dat indien het zaaktype van de omgevingszaak waar je op staat van het type M (melding) is, druk dan de tekst <em>Dit is ten gevolge van artikel x van wet y</em> af. Anders, is het type anders dan M, druk dan niets af.</p> <p>Datzelfde kan ook met hergebruik van blokken tekst door een verwijzing in de query naar tbtekstblokken:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>dvsoortproc</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmomgvergunningen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkeyomgvergunning</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;M&#39;</span>
<span class=w>              </span><span class=k>then</span><span class=w>  </span><span class=n>dvtekstblok</span>
<span class=w>              </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>::</span><span class=nb>text</span><span class=w> </span><span class=k>end</span>
<span class=w>         </span><span class=k>from</span><span class=w> </span><span class=n>tbtekstblokken</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=k>lower</span><span class=p>(</span><span class=n>dvcode</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;tkstblk_1&#39;</span>
</code></pre></div> <p>Hetgeen wil zeggen dat indien het zaaktype van de omgevingszaak waar je op staat van het type M (melding) is, druk dan de waarde van de kolom dvtekstblok van de tabel tbtekstblokken af waarbij dvcode = <em>tkstblk_1</em>. Anders, is het type anders dan M, druk dan niets af.<br> Die kolom dvtekstblok kan gevuld zijn met een tekst van maximaal 4000 tekens.</p> <p>In de tabel tbtekstblokken (beheertegel <em>Tekstblokken</em>) kunnen deze tekstblokken gedefinieerd worden die op bovenstaande wijze in meerdere sjablonen op conditie kunnen worden aangeroepen.<br> Zie ook: <a href=../queries/ >Queries</a>.</p> <h3 id=invoegen-plaatje-op-basis-van-een-query-aanroep-naar-tbqueries-die-verwijst-naar-tbimages>Invoegen plaatje op basis van een query-aanroep naar tbqueries die verwijst naar tbimages<a class=headerlink href=#invoegen-plaatje-op-basis-van-een-query-aanroep-naar-tbqueries-die-verwijst-naar-tbimages title="Permanent link">¤</a></h3> <p>Er kan in het sjabloon een speciale vorm van merge-codering worden opgenomen die verwijst naar een kaart in tbqueries t.b.v. opnemen plaatjes. In dat geval wordt die aangeroepen query geëvalueerd en het resultaat van die query MOET verwijzen naar een unieke dvcode uit de tabel tbimages. Het plaatsje uit tbimages wordt op de bewuste plek in het sjabloon ingevoegd. Een dergelijke verwijzing ziet er als volgt uit:</p> <ul> <li>&lt;%imagequery(codevanquery)%&gt;</li> <li>of &lt;%imagequery(codevanquery,:keyvergunning)%&gt;</li> <li>of &lt;%imagequery(codevanquery,:keylocatie)%&gt;</li> <li>of &lt;%imagequery(codevanquery,:keyinrichting)%&gt;</li> </ul> <p>LET OP: De hier gebruikte merge-codering zal niet door de spellingchecker heenkomen, voor een goede werking zal het sjabloon daarom opgeslagen moeten zijn zonder spellingchecker!!!</p> <p>Op grond van de eerste parameter (codevanquery in bovenstaand voorbeeld) wordt in tbqueries de kaart met dvcode = <em>codevanquery</em> gezocht en de bijbehorende query geëvalueerd, waarbij de variabele {id} in de query wordt vervangen door de tweede parameter (indien aanwezig). Die tweede parameter moet één van de bovenvermelde query-variabelen zijn (dus :keyvergunning of :keylocatie of :keyinrichting) en is dus afhankelijk van de tabel van waaruit het sjabloon benaderd wordt.</p> <p>Een voorbeeld van een query met dvcode = <em>image_handtekening</em> bij de sjabloonaanroep &lt;%imagequery(image_handtekening,:keyvergunning)%&gt;</p> <div class=highlight><pre><span></span><code><span class=k>select</span>
<span class=w>   </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=n>dvgemeenteid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;0363&#39;</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=s1>&#39;HandtekeningY&#39;</span>
<span class=w>        </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;HandtekeningX&#39;</span>
<span class=w>  </span><span class=k>end</span>
<span class=w>  </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmomgvergunningen</span>
<span class=w>  </span><span class=k>where</span><span class=w> </span><span class=n>dnkeyomgvergunning</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span>
</code></pre></div> <p>De uitkomst van deze query waarbij <em>{id}</em> eerst is gesubstitueerd door de dnkey van de omgevingszaak levert dus een verwijzing naar een specifieke dvcode van tbimages op (beheer), namelijk of wel de image met dvcode = <em>HandtekeningY</em> ofwel dvcode = <em>HandtekeningX</em>. Aldaar moeten de twee gewenste plaatje geüpload zijn EN voorzien van de juiste hoogte en breedte in pixels.</p> <p>Als er geen case when nodig is, dus als een bepaald plaatje er altijd onvoorwaardelijk in moet, dan is <em>&lt;%imagequery(codevanquery)%&gt;</em> voldoende, en in die codevanquery staat dan bijvoorbeeld: <em>select 'ABC'</em> als ABC de naam van de image is.</p> <p>LET OP: de &lt;%imagequery(xxxxx)%&gt; moet in het MS-Word-sjabloon in de hoofdtekst staan, dus niet in een tekstblok of tabel of header of footer.<br> LET OP 2: De regelafstand van het onderdeel &lt;%imagequery …%&gt; moet op ‘Enkel’ moet staan.</p> <h2 id=tonen-wave-briefnummer>Tonen Wave briefnummer<a class=headerlink href=#tonen-wave-briefnummer title="Permanent link">¤</a></h2> <p>(indien instelling <em>Sectie: Documenten, Item: WaveBriefNummer</em> is aangevinkt)</p> <p>Indien gewenst kan er met de juiste instellingen een uniek briefnummer door OpenWave gecreëerd worden bij aanmaken van de brief. Als je dit nummer in het sjabloon wilt tonen dan kan dit door in het sjabloon de verwijzing &lt;%teller%&gt; te zetten op de plek waar je het briefnummer wilt tonen.</p> <p>Voorbeeld: stel de instellingen zijn als volgt WaveBriefnummer staat aan, <em>Getal1</em> = 78, <em>Getal2</em> = 5 en <em>Tekst</em> = 'OW'. Het unieke briefnummer waarmee &lt;%teller%&gt; in het document vervangen zal worden is 'OW00079'.</p> <p>Indien <em>Getal1</em> van <em>Sectie: Documenten Item: Documentregistratie</em> de waarde 1 heeft, dan wordt het gecreëerde document op basis van dit sjabloon automatisch op geslagen in de geregistreerde documenten (tbcorrespondentie), waarbij de kolom dvbriefcode de waarde van deze teller krijgt (ongeacht of deze teller in het sjabloon is opgenomen).</p> <h2 id=tonen-externe-documentidentifier>Tonen externe documentidentifier<a class=headerlink href=#tonen-externe-documentidentifier title="Permanent link">¤</a></h2> <p>De string &lt;%ExtDocIdent%&gt; (let op kamelennotatie) zal worden vervangen door de externe documentidentifier die verkregen wordt door een Stuf Zaak/DMS genereerdocumentidentificatie-bericht. Alleen van toepassing indien automatische opslag in een DMS via stufzaak/DMS. Wanneer OpenWave geen externe documentidentifier kan bemachtigen, wordt de string &lt;%ExtDocIdent%&gt; vervangen door een lege string.</p> <h2 id=tonen-gecrypte-versie-van-een-kolomwaarde>Tonen gecrypte versie van een kolomwaarde<a class=headerlink href=#tonen-gecrypte-versie-van-een-kolomwaarde title="Permanent link">¤</a></h2> <p>Verder kan de encryptiemethode worden aangeroepen vanuit het documentsjabloon. De string &lt;%strEncrypt(:columnname)%&gt; in een sjabloon wordt bij het creëren van een document als volgt geïnterpreteerd. Het programma zal columnname interpreteren als een kolomnaam uit de hoofdtabel van het sjabloon. De waarde van die kolom wordt gecrypt volgens de ingestelde methode (zie: <a href=./2way_encryptie_externe_wachtwoorden>2-way encryptie van externe wachtwoorden</a>) en deze gecrypte waarde wordt in het document opgenomen op de betreffende plaats. Voorbeeld: &lt;%strEncrypt(:dnkey.md)%&gt;.</p> <h2 id=sjabloon-parameters>Sjabloon-parameters<a class=headerlink href=#sjabloon-parameters title="Permanent link">¤</a></h2> <p>De substrings in de formqueries ingesloten door %-tekens (bijvoorbeeld %datumvanaf%) heten parameters. Deze worden bij het uitvoeren van het SQL-statement automatisch vervangen door een bedoelde waarde. Hoe dat gebeurt wordt gedefinieerd met de kolommen van de tabel tbdocparameters.</p> <p>Uitzondering hierop zijn de hierboven behandelde strings &lt;%query(codevanquery)%&gt;, &lt;%iamgequery(codevanquery)%&gt;, &lt;%Teller%&gt; en &lt;%strEncrypt(:dnkey)%&gt;. Elke query kan 0 of meer parameters hebben.</p> <h3 id=parameterkolommen>Parameterkolommen<a class=headerlink href=#parameterkolommen title="Permanent link">¤</a></h3> <ul> <li>In de kolom <strong>parameternaam</strong> (dvparameter) staat de naam van de parameter precies zoals die in de querie(s) van het bijbehorende sjabloon staat, maar dan zonder %-tekens. In de parameternamen mogen alleen letters of cijfers voorkomen of een underscore. Dus geen spaties of slashes/backslashes e.d..</li> <li><strong>Invulsoort</strong> (dvinvulsoort). Moet ingevuld worden. Er zijn drie mogelijkheden:</li> <li>(A)utomatisch. Dit wil zeggen dat Wave de parameter onder water automatisch vervangt met de actieve waarde van de kolom default waarde</li> <li>(I)nvoer. Invoer wil zeggen dat de gebruiker de gelegenheid krijgt om de parameter te vervangen door een waarde die hij zelf opgeeft met als default de actieve waarde van de kolom default waarde</li> <li>(L)ijst. Lijst wil zeggen dat de gebruiker de te vervangen parameterwaarde kan kiezen uit een lijst in een dropdown-box alvorens het document wordt gegenereerd. De lijst wordt samengesteld door de query die wordt opgegeven bij <em>lijst query</em> (zie opmerkingen aldaar).</li> <li>In de kolom <strong>label</strong> (dvlabel) kan hier het label behorende bij de te maken editbox of dropdownlist worden ingevoerd indien de Invulsoort = (I)nvoer of (L)ijst.</li> <li><strong>Type</strong> (dvinvoerobject). Type geldt alleen wanneer de InvulSoort = (I)nvoer of (L)ijst.</li> <li>Indien Invulsoort is (I)nvoer dan bepaalt het type het masker voor de in te vullen waarden. De volgende conventies gelden indien gevuld:<ul> <li>STRING (tekst): Het programma toont een normale editbox om de waarde in te voeren voor zowel cijfers als letters. Dus ook wanneer het om een in te voeren numerieke waarde gaat (zoals een bedrag) kan als type toch string worden gekozen</li> <li>DATUM: Laat datum kiezen uit een kalender</li> <li>INTEGER (getal): Het programma toont een normale editbox om de waarde in te voeren voor een getal.</li> </ul> </li> <li>Indien Invulsoort is (L)ijst dan geldt dat als de waarde van eerste kolom van de result-dataset van de query_bij_soort_is_lijst (zie hieronder) een:<ul> <li>Integer of float is dan moet het type leeg zijn (maar mag ook string zijn)</li> <li>String is dan moet bij type ook een string worden gekozen</li> <li>Datum is dan moet bij het type ook een datum worden gekozen.</li> </ul> </li> <li><strong>Query_bij_soort_is_lijst</strong> (dvlijstquery). Geldt alleen wanneer de Invulsoort = (L)ijst. In geval van (L)ijst komt het resultaat van de hier opgegeven query als dropdownlijst alvorens de rapportage wordt gestart. Daarbij geldt dat de waarde van eerste kolom van de result-dataset van de query als de te vervangen parameter wordt beschouwd (maar niet zichtbaar in de dropdownlijst). De query mag maar twee kolommen bevatten genaamd id en omschrijving. Voorbeeld: <em>SELECT DvCode id, DvOmschrijving omschrijving from TbMedewerkers where ddvervaldatum is null order by omschrijving</em>. Het veld dat als id wordt omschreven, komt in het document te staan. Dus in bovenstaand voorbeeld komt het veld DvCode in het document, met <em>SELECT DvOmschrijving id, DvCode omschrijving from TbMedewerkers where ddvervaldatum is null order by omschrijving</em> komt het veld DvOmschrijving in het document en kunt u kiezen uit de codes. De queries die hier opgegeven kunnen worden kunnen verwijzen naar elke tabel of view van het database schema van Wave.</li> <li><strong>Inputvolgordenummer</strong> (dnregel). Geldt voor invulsoort (L)ijst of (I)nvoer. Hiermee kunt u de plek beïnvloeden van de editbox of lijst wanneer er meerdere parameters zijn. Mag leeg gelaten worden, maar dan is de volgorde van de gevraagde invoer willekeurig.</li> <li><strong>Functie Defaultwaarde</strong> (dvdefaultwaarde). Een – bij afspraak – geldende typering wat de standaard waarde moet zijn bij Invulsoort = (A)utomatisch en bij (I)nvoer. De mogelijkheden zijn:</li> <li>Begin van dit jaar (DbeginJaar)</li> <li>Eind van dit jaar (Deindjaar)</li> <li>Vandaag (Dvandaag)</li> <li>Vandaag minus 1 maand (Dmin1Maand)</li> <li>Vandaag plus 1 maand (Dplus1Maand)</li> <li>Vandaag minus 2 maanden (Dmin2Maand)</li> <li>Vandaag plus 2 maanden (Dplus2Maand)</li> <li>Vandaag minus 1 jaar (Dmin1Jaar)</li> <li>Vandaag plus 1 jaar (Dplus1Jaar)</li> <li>Vandaag minus 6 maanden (Dmin6Maand)</li> <li>Vandaag plus 6 maanden (Dplus6Maand)</li> <li>Huidige Gebruiker (Cinlogger) TbMedewerkers.DvCode van persoon die het sjabloon start</li> <li>Identifier van powerportal (nportalid). Kan alleen gebruikt worden bij sjablonen die gestart worden vanuit een zaakportaal of een inrichtingsportaal. De identifier is dan de primary key van de betreffende module voor dat portaal.</li> <li><strong>Vaste Defaultwaarde</strong> (dvdefaultvast). Een vaste default waarde bij bij Invulsoort = (A)utomatisch en bij (I)nvoer en (L)ijst. Indien Lijst (waarbij de default waarde dus verwijst naar een bepaalde regel van het dropdownlijstje bestaande uit de kolommen id en omschrijving), dan geldt bij afspraak dat de id en de omschrijving van deze default waarde gescheiden moeten zijn met een puntkomma. Is er geen puntkomma in de default dan gaat OpenWave er vanuit dat de default waarde op zowel de id als de omschrijving van toepassing is. Stel de dropdownlijst is gedefinieerd als <em>select '1' id, 'Teamleider - standaard' omschrijving union select '3' id, 'Afdelingshoofd' omschrijving</em> dan kan de vaste default waarde gedefinieerd zijn als <em>3;Afdelingshoofd</em>.</li> </ul> <h3 id=voorbeeld-gebruik-verschillende-soorten-types-parameters>Voorbeeld gebruik verschillende soorten (types) parameters<a class=headerlink href=#voorbeeld-gebruik-verschillende-soorten-types-parameters title="Permanent link">¤</a></h3> <p>Stel: een sjabloon ziet er als volgt uit:</p> <div class=highlight><pre><span></span><code>Rommeldam, &lt;1&gt;
  Betreft: &lt;2&gt;
  Hier volgt een aantal invoerparameters:
  Een code uit een medewerkerslijst &lt;3&gt;
  Een invoerdatum omgezet naar tekst &lt;4&gt;
  Een invoer getal (integer): &lt;5&gt;
  Een invoer van een getal (float) omgezet naar een bedrag &lt;6&gt;
  en de invoer van zomaar een string &lt;7&gt;
</code></pre></div> <p>en de bijbehorende formquery als volgt:</p> <div class=highlight><pre><span></span><code><span class=k>Select</span>
<span class=w>   </span><span class=n>fn_ddmaandjjjj</span><span class=p>(</span><span class=n>fn_vandaag</span><span class=p>(</span><span class=mi>0</span><span class=p>))</span><span class=w> </span><span class=ss>&quot;&lt;1&gt;&quot;</span>
<span class=w>   </span><span class=n>a</span><span class=p>.</span><span class=n>DVSOORTAANVRAAG</span><span class=w> </span><span class=ss>&quot;&lt;2&gt;&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=o>%</span><span class=n>Medewerker</span><span class=o>%</span><span class=w> </span><span class=ss>&quot;&lt;3&gt;&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=n>fn_ddmaandjjjj</span><span class=p>(</span><span class=n>to_date</span><span class=p>(</span><span class=o>%</span><span class=n>Zomaardatum</span><span class=o>%</span><span class=p>,</span><span class=s1>&#39;yyyy-mm-dd&#39;</span><span class=p>))</span><span class=w> </span><span class=ss>&quot;&lt;4&gt;&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=o>%</span><span class=n>Zomaareeninteger</span><span class=o>%</span><span class=w> </span><span class=ss>&quot;&lt;5&gt;&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=n>fn_bedrag</span><span class=p>(</span><span class=k>cast</span><span class=p>(</span><span class=o>%</span><span class=n>Zomaareenfloat</span><span class=o>%</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>double</span><span class=w> </span><span class=k>precision</span><span class=p>))</span><span class=w> </span><span class=ss>&quot;&lt;6&gt;&quot;</span><span class=p>,</span>
<span class=w>   </span><span class=o>%</span><span class=n>Zomaareenstring</span><span class=o>%</span><span class=w> </span><span class=ss>&quot;&lt;7&gt;&quot;</span>
<span class=w>  </span><span class=k>from</span>
<span class=w>  </span><span class=n>VWFRMOMGVERGUNNINGEN</span><span class=w> </span><span class=n>a</span>
<span class=w>  </span><span class=k>WHERE</span><span class=w> </span><span class=n>DNKEYOMGVERGUNNING</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>keyvergunning</span>
</code></pre></div> <p>LET HIER OP DAT:</p> <ul> <li>een integer of string inputparameter zonder quootjes of extra functie in de query kan worden opgenomen: zoals %Zomaareeninteger%</li> <li>een floatparameter alleen ingebracht kan worden als type string en dat die dan gecast wordt naar float</li> <li>een datumparameter gecast moet worden naar datum met bijv. to_date functie waarbij de ingevoerde datum wordt aangeleverd als yyyy-mm-dd.</li> </ul> <p>Er zijn dus 5 invoerparameters:</p> <p><img alt class=media loading=lazy src=../img/applicatiebeheer/instellen_inrichten/invoerparameters2.png width=600></p> <p>Dat resulteert bij het genereren van het document tot een invoerscherm:</p> <p><img alt class=media loading=lazy src=../img/applicatiebeheer/instellen_inrichten/parameters2.png width=400></p> <p>En het te genereren document ziet er dan zo uit:</p> <div class=highlight><pre><span></span><code>Rommeldam, 01 mei 2017
  Betreft: reguliere procedure
  Hier volgt een aantal invoerparameters:
  Een code uit een medewerkerslijst MDH
  Een invoerdatum omgezet naar tekst 21 april 2017
  Een invoer getal (integer): 34
  Een invoer van een getal (float) omgezet naar een bedrag 123,69
  en de invoer van zomaar een string altijd is Kortjakje ziek
</code></pre></div> <h2 id=formquery-en-childquery-verwijzingen-naar-tbqueries>formquery en childquery-verwijzingen naar tbqueries<a class=headerlink href=#formquery-en-childquery-verwijzingen-naar-tbqueries title="Permanent link">¤</a></h2> <p>De inhoud van de kolommen van de formqueries en childqueries kan ook bestaan uit een verwijzing naar een query in de beheertabel tbqueries. Zie: <a href=../queries/ >Queries</a></p> <p>Hierdoor hoeft een query die in meerdere sjablonen gebruikt wordt maar eenmalig te worden gedefinieerd. De opmaak van de sjablonen wijzigt hierdoor niet.</p> <p>formmquery_1 is bijvoorbeeld:</p> <p>select dvzaakcode, dvaanvraagnaam from tbomgvergunning where dnkey = :keyvergunning<br> en formquery_2 is bijvootrbeeld</p> <p>select dvbedrijfsnaam, dvachternaam from tbcontactadressen where dnkey = :keyadres<br> Deze twee select statements kunnen nu vervangen worden door de volgende:</p> <p>De inhoud van formquery_1 wordt dan</p> <p>%query(sjabloon_zaakgegevens,:keyvergunning)%<br> en die van formquery_2 wordt dan</p> <p>%query(sjabloon_geadresseerdegegevens,:keyadres)%</p> <p>In de tabel tbqueries dienen vervolgens twee kaarten aangemaakt te worden:</p> <p>Eén met de naam <em>sjabloon_zaakgegevens</em> met de inhoud:</p> <p>select dvzaakcode, dvaanvraagnaam from tbomgvergunning where dnkey = {id}<br> en één met de naam <em>sjabloon_geadresseerdegegevens</em> met als inhoud</p> <p>select dvbedrijfsnaam, dvachternaam from tbcontactadressen where dnkey = {id}</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.indexes", "navigation.prune", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Gekopieerd naar klembord", "clipboard.copy": "Kopi\u00ebren naar klembord", "search.result.more.one": "1 extra overeenkomst op deze pagina", "search.result.more.other": "# extra overeenkomsten op deze pagina", "search.result.none": "Geen overeenkomende documenten", "search.result.one": "1 overeenkomende document", "search.result.other": "# overeenkomende documenten", "search.result.placeholder": "Typ om te beginnen met zoeken", "search.result.term.missing": "Ontbreekt", "select.version": "Selecteer versie"}}</script> <script src=../../assets/javascripts/bundle.d7c377c4.min.js></script> </body> </html>