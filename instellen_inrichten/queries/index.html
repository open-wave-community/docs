<!doctype html><html lang=nl class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://open-wave-community.github.io/docs/instellen_inrichten/queries/ rel=canonical><link href=../producten_klanten_werkpakketten/ rel=prev><link href=../rapportages/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.2"><title>Queries - OpenWave docs</title><link rel=stylesheet href=../../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#queries class=md-skip> Ga naar inhoud </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="OpenWave docs" class="md-header__button md-logo" aria-label="OpenWave docs" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OpenWave docs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Queries </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Zoeken placeholder=Zoeken autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Zoeken> <button type=reset class="md-search__icon md-icon" title=Leegmaken aria-label=Leegmaken tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Zoeken initialiseren </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/open-wave-community/docs.open-wave.nl title="Ga naar repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> OpenWave Documentatie </a> </li> <li class=md-tabs__item> <a href=../../functionaliteiten/ class=md-tabs__link> Functionaliteiten </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Instellen inrichten </a> </li> <li class=md-tabs__item> <a href=../../probleemoplossing/ class=md-tabs__link> Probleemoplossing </a> </li> <li class=md-tabs__item> <a href=../../reference/SUMMARY/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../techniek/ class=md-tabs__link> Techniek </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigatie data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="OpenWave docs" class="md-nav__button md-logo" aria-label="OpenWave docs" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> OpenWave docs </label> <div class=md-nav__source> <a href=https://github.com/open-wave-community/docs.open-wave.nl title="Ga naar repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> OpenWave Documentatie </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../functionaliteiten/ class="md-nav__link "> <span class=md-ellipsis> Functionaliteiten </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Functionaliteiten </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../functionaliteiten/bag/ class=md-nav__link> <span class=md-ellipsis> BAG </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/dso/ class=md-nav__link> <span class=md-ellipsis> DSO </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/email/ class=md-nav__link> <span class=md-ellipsis> E-mail </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/fis/ class=md-nav__link> <span class=md-ellipsis> FIS </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/geo/ class=md-nav__link> <span class=md-ellipsis> Geo/Kaart </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/inspecties/ class=md-nav__link> <span class=md-ellipsis> Inspecties </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/nhr/ class=md-nav__link> <span class=md-ellipsis> NHR </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/olo/ class=md-nav__link> <span class=md-ellipsis> OLO </span> </a> </li> <li class=md-nav__item> <a href=../../functionaliteiten/rev/ class=md-nav__link> <span class=md-ellipsis> REV </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Instellen inrichten </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Instellen inrichten </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2way_encryptie_externe_wachtwoorden/ class=md-nav__link> <span class=md-ellipsis> 2-way encryptie van externe wachtwoorden </span> </a> </li> <li class=md-nav__item> <a href=../actions/ class=md-nav__link> <span class=md-ellipsis> Actions </span> </a> </li> <li class=md-nav__item> <a href=../adresrollen/ class=md-nav__link> <span class=md-ellipsis> Adresrollen </span> </a> </li> <li class=md-nav__item> <a href=../audit/ class=md-nav__link> <span class=md-ellipsis> Audit </span> </a> </li> <li class=md-nav__item> <a href=../beheerportalen/ class=md-nav__link> <span class=md-ellipsis> Beheerportalen in een nieuw jasje </span> </a> </li> <li class=md-nav__item> <a href=../compartimenten/ class=md-nav__link> <span class=md-ellipsis> Compartimenten </span> </a> </li> <li class=md-nav__item> <a href=../data_op_kaart/ class=md-nav__link> <span class=md-ellipsis> Data Op Kaart / Export Inrichtingen als WFS </span> </a> </li> <li class=md-nav__item> <a href=../documentsjablonen/ class=md-nav__link> <span class=md-ellipsis> Documentsjablonen en Sjabloongroepen </span> </a> </li> <li class=md-nav__item> <a href=../drop/ class=md-nav__link> <span class=md-ellipsis> Drop </span> </a> </li> <li class=md-nav__item> <a href=../editschuif/ class=md-nav__link> <span class=md-ellipsis> Edit-schuif </span> </a> </li> <li class=md-nav__item> <a href=../email/ class=md-nav__link> <span class=md-ellipsis> E-mail SMTP instellingen </span> </a> </li> <li class=md-nav__item> <a href=../emailsjablonen/ class=md-nav__link> <span class=md-ellipsis> Emailsjablonen </span> </a> </li> <li class=md-nav__item> <a href=../export_report_container/ class=md-nav__link> <span class=md-ellipsis> Export Report Container </span> </a> </li> <li class=md-nav__item> <a href=../externe_link/ class=md-nav__link> <span class=md-ellipsis> Externe Link </span> </a> </li> <li class=md-nav__item> <a href=../foutcodes/ class=md-nav__link> <span class=md-ellipsis> Foutcodes/-afhandeling </span> </a> </li> <li class=md-nav__item> <a href=../functietoetsen/ class=md-nav__link> <span class=md-ellipsis> Functietoetsen </span> </a> </li> <li class=md-nav__item> <a href=../geowms-lagen/ class=md-nav__link> <span class=md-ellipsis> Geo-WMS/WFS lagen </span> </a> </li> <li class=md-nav__item> <a href=../hyperlink/ class=md-nav__link> <span class=md-ellipsis> Hyperlink </span> </a> </li> <li class=md-nav__item> <a href=../ip-ranges/ class=md-nav__link> <span class=md-ellipsis> IP-ranges </span> </a> </li> <li class=md-nav__item> <a href=../medewerkers/ class=md-nav__link> <span class=md-ellipsis> Medewerkers </span> </a> </li> <li class=md-nav__item> <a href=../messagelog/ class=md-nav__link> <span class=md-ellipsis> MessageLog </span> </a> </li> <li class=md-nav__item> <a href=../onbekende_locatieadressen/ class=md-nav__link> <span class=md-ellipsis> Onbekende locatieadressen </span> </a> </li> <li class=md-nav__item> <a href=../onlyoffice/ class=md-nav__link> <span class=md-ellipsis> OnlyOffice </span> </a> </li> <li class=md-nav__item> <a href=../openwave_database-functies/ class=md-nav__link> <span class=md-ellipsis> Database functies </span> </a> </li> <li class=md-nav__item> <a href=../opslag_bij_inrichtingen/ class=md-nav__link> <span class=md-ellipsis> Opslagtabel bij inrichtingen </span> </a> </li> <li class=md-nav__item> <a href=../opslag_kenmerk-en_verplichting/ class=md-nav__link> <span class=md-ellipsis> Opslagvoorziening Kenmerk en Verplichting </span> </a> </li> <li class=md-nav__item> <a href=../producten_klanten_werkpakketten/ class=md-nav__link> <span class=md-ellipsis> Producten Klanten en Werkpakketten </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Queries </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Queries </span> </a> <nav class="md-nav md-nav--secondary" aria-label=Inhoudsopgave> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Inhoudsopgave </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#queries-voor-tegelopschrift class=md-nav__link> <span class=md-ellipsis> Queries voor tegelopschrift </span> </a> </li> <li class=md-nav__item> <a href=#querys-om-blokken-onzichtbaar-te-maken-in-detailscherm class=md-nav__link> <span class=md-ellipsis> Query's om blokken onzichtbaar te maken in detailscherm </span> </a> </li> <li class=md-nav__item> <a href=#querys-voor-contextafhankelijke-schermkolommen class=md-nav__link> <span class=md-ellipsis> Query's voor contextafhankelijke schermkolommen </span> </a> <nav class=md-nav aria-label="Query's voor contextafhankelijke schermkolommen"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#label class=md-nav__link> <span class=md-ellipsis> Label </span> </a> </li> <li class=md-nav__item> <a href=#visible class=md-nav__link> <span class=md-ellipsis> Visible </span> </a> </li> <li class=md-nav__item> <a href=#edit class=md-nav__link> <span class=md-ellipsis> Edit </span> </a> </li> <li class=md-nav__item> <a href=#backcolor-fontcolor class=md-nav__link> <span class=md-ellipsis> Backcolor / Fontcolor </span> </a> </li> <li class=md-nav__item> <a href=#action class=md-nav__link> <span class=md-ellipsis> Action </span> </a> <nav class=md-nav aria-label=Action> <ul class=md-nav__list> <li class=md-nav__item> <a href=#voorbeeld-1-ga-naar-olo-loket-op-juiste-aanvraagnummer class=md-nav__link> <span class=md-ellipsis> Voorbeeld 1: ga naar OLO-loket op juiste aanvraagnummer </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-2-ga-naar-ruimtelijke-plannen-op-grond-van-adresgegevens class=md-nav__link> <span class=md-ellipsis> Voorbeeld 2: ga naar ruimtelijke plannen op grond van adresgegevens </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-3-open-een-pdok-kaart-op-basis-van-een-coordinatenpaar class=md-nav__link> <span class=md-ellipsis> Voorbeeld 3 Open een pdok-kaart op basis van een coördinatenpaar </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#filter class=md-nav__link> <span class=md-ellipsis> Filter </span> </a> </li> <li class=md-nav__item> <a href=#nullable class=md-nav__link> <span class=md-ellipsis> Nullable </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#querys-voor-invoegen-tekstblokken-bij-sjablonen class=md-nav__link> <span class=md-ellipsis> Query's voor invoegen tekstblokken bij sjablonen </span> </a> <nav class=md-nav aria-label="Query's voor invoegen tekstblokken bij sjablonen"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#voorbeeld-1-invoegen-tekst-uit-query-zelf class=md-nav__link> <span class=md-ellipsis> Voorbeeld 1: invoegen tekst uit query zelf </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-2-invoegen-tekst-uit-de-tabel-tekstblokken-via-de-query class=md-nav__link> <span class=md-ellipsis> Voorbeeld 2: invoegen tekst uit de tabel tekstblokken via de query </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#querys-als-vervanging-voor-formqueries-en-childqueries-bij-definitie-document-en-emailsjablonen class=md-nav__link> <span class=md-ellipsis> Query's als vervanging voor formqueries en childqueries bij definitie document- en emailsjablonen </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../rapportages/ class=md-nav__link> <span class=md-ellipsis> Rapportages </span> </a> </li> <li class=md-nav__item> <a href=../regexp_voorbeelden_pattern/ class=md-nav__link> <span class=md-ellipsis> Regexp voorbeelden pattern </span> </a> </li> <li class=md-nav__item> <a href=../register_exrterne_veiligheid/ class=md-nav__link> <span class=md-ellipsis> Register Externe Veiligheid </span> </a> </li> <li class=md-nav__item> <a href=../rest_flexfuncties/ class=md-nav__link> <span class=md-ellipsis> REST Flexfuncties </span> </a> </li> <li class=md-nav__item> <a href=../roeb_berekening_vastg._kosten/ class=md-nav__link> <span class=md-ellipsis> Roeb berekening vastg. kosten </span> </a> </li> <li class=md-nav__item> <a href=../samenwerkingsfunctionaliteit/ class=md-nav__link> <span class=md-ellipsis> Samenwerkingsfunctionaliteit </span> </a> </li> <li class=md-nav__item> <a href=../satellite_filesysteem/ class=md-nav__link> <span class=md-ellipsis> Satellite t.b.v. benadering fileserver </span> </a> </li> <li class=md-nav__item> <a href=../sidebar_zijbalk/ class=md-nav__link> <span class=md-ellipsis> Sidebar (zijbalk) </span> </a> </li> <li class=md-nav__item> <a href=../singlesignon/ class=md-nav__link> <span class=md-ellipsis> Single Sign-On </span> </a> </li> <li class=md-nav__item> <a href=../sms/ class=md-nav__link> <span class=md-ellipsis> SMS </span> </a> </li> <li class=md-nav__item> <a href=../standardlist_standarddetail/ class=md-nav__link> <span class=md-ellipsis> Standaard Lijst- en Detailschermen </span> </a> </li> <li class=md-nav__item> <a href=../taskscheduler/ class=md-nav__link> <span class=md-ellipsis> Taskscheduler </span> </a> </li> <li class=md-nav__item> <a href=../teams/ class=md-nav__link> <span class=md-ellipsis> Teams </span> </a> </li> <li class=md-nav__item> <a href=../testen_dso_erkmaatreg/ class=md-nav__link> <span class=md-ellipsis> Testen xml-berichten DSO / Erk.Maatreg </span> </a> </li> <li class=md-nav__item> <a href=../vee_stallen/ class=md-nav__link> <span class=md-ellipsis> Vee / Stallen </span> </a> </li> <li class=md-nav__item> <a href=../wachtwoordcomplexiteit/ class=md-nav__link> <span class=md-ellipsis> Wachtwoordcomplexiteit </span> </a> </li> <li class=md-nav__item> <a href=../zaakstatussen/ class=md-nav__link> <span class=md-ellipsis> Zaakstatussen </span> </a> </li> <li class=md-nav__item> <a href=../zaaktypes/ class=md-nav__link> <span class=md-ellipsis> Zaaktypes </span> </a> </li> <li class=md-nav__item> <a href=../zwemwater/ class=md-nav__link> <span class=md-ellipsis> Zwemwater bij inrichtingen </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../configuratie/ class=md-nav__link> <span class=md-ellipsis> Configuratie </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../inrichting_processen/ class=md-nav__link> <span class=md-ellipsis> Inrichting processen </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../portaldefinitie/ class=md-nav__link> <span class=md-ellipsis> Portaldefinitie </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../schermdefinitie/ class=md-nav__link> <span class=md-ellipsis> Schermdefinitie </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../probleemoplossing/ class="md-nav__link "> <span class=md-ellipsis> Probleemoplossing </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Probleemoplossing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../probleemoplossing/module_overstijgende_schermen/ class=md-nav__link> <span class=md-ellipsis> Module overstijgende schermen </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../probleemoplossing/portalen_en_moduleschermen/ class=md-nav__link> <span class=md-ellipsis> Portalen en moduleschermen </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../probleemoplossing/programmablokken/ class=md-nav__link> <span class=md-ellipsis> Programmablokken </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/SUMMARY/ class=md-nav__link> <span class=md-ellipsis> SUMMARY </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../techniek/ class="md-nav__link "> <span class=md-ellipsis> Techniek </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Techniek </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../techniek/browsers/ class=md-nav__link> <span class=md-ellipsis> Browsers </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/database_lees_schrijfrechten/ class=md-nav__link> <span class=md-ellipsis> Database Lees- en Schrijfrechten </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/stijlgids/ class=md-nav__link> <span class=md-ellipsis> UNDER CONSTRUCTION </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/systeem_benodigdheden/ class=md-nav__link> <span class=md-ellipsis> Systeem benodigdheden </span> </a> </li> <li class=md-nav__item> <a href=../../techniek/versiebeheer/ class=md-nav__link> <span class=md-ellipsis> Versiebeheer </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=Inhoudsopgave> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Inhoudsopgave </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#queries-voor-tegelopschrift class=md-nav__link> <span class=md-ellipsis> Queries voor tegelopschrift </span> </a> </li> <li class=md-nav__item> <a href=#querys-om-blokken-onzichtbaar-te-maken-in-detailscherm class=md-nav__link> <span class=md-ellipsis> Query's om blokken onzichtbaar te maken in detailscherm </span> </a> </li> <li class=md-nav__item> <a href=#querys-voor-contextafhankelijke-schermkolommen class=md-nav__link> <span class=md-ellipsis> Query's voor contextafhankelijke schermkolommen </span> </a> <nav class=md-nav aria-label="Query's voor contextafhankelijke schermkolommen"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#label class=md-nav__link> <span class=md-ellipsis> Label </span> </a> </li> <li class=md-nav__item> <a href=#visible class=md-nav__link> <span class=md-ellipsis> Visible </span> </a> </li> <li class=md-nav__item> <a href=#edit class=md-nav__link> <span class=md-ellipsis> Edit </span> </a> </li> <li class=md-nav__item> <a href=#backcolor-fontcolor class=md-nav__link> <span class=md-ellipsis> Backcolor / Fontcolor </span> </a> </li> <li class=md-nav__item> <a href=#action class=md-nav__link> <span class=md-ellipsis> Action </span> </a> <nav class=md-nav aria-label=Action> <ul class=md-nav__list> <li class=md-nav__item> <a href=#voorbeeld-1-ga-naar-olo-loket-op-juiste-aanvraagnummer class=md-nav__link> <span class=md-ellipsis> Voorbeeld 1: ga naar OLO-loket op juiste aanvraagnummer </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-2-ga-naar-ruimtelijke-plannen-op-grond-van-adresgegevens class=md-nav__link> <span class=md-ellipsis> Voorbeeld 2: ga naar ruimtelijke plannen op grond van adresgegevens </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-3-open-een-pdok-kaart-op-basis-van-een-coordinatenpaar class=md-nav__link> <span class=md-ellipsis> Voorbeeld 3 Open een pdok-kaart op basis van een coördinatenpaar </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#filter class=md-nav__link> <span class=md-ellipsis> Filter </span> </a> </li> <li class=md-nav__item> <a href=#nullable class=md-nav__link> <span class=md-ellipsis> Nullable </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#querys-voor-invoegen-tekstblokken-bij-sjablonen class=md-nav__link> <span class=md-ellipsis> Query's voor invoegen tekstblokken bij sjablonen </span> </a> <nav class=md-nav aria-label="Query's voor invoegen tekstblokken bij sjablonen"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#voorbeeld-1-invoegen-tekst-uit-query-zelf class=md-nav__link> <span class=md-ellipsis> Voorbeeld 1: invoegen tekst uit query zelf </span> </a> </li> <li class=md-nav__item> <a href=#voorbeeld-2-invoegen-tekst-uit-de-tabel-tekstblokken-via-de-query class=md-nav__link> <span class=md-ellipsis> Voorbeeld 2: invoegen tekst uit de tabel tekstblokken via de query </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#querys-als-vervanging-voor-formqueries-en-childqueries-bij-definitie-document-en-emailsjablonen class=md-nav__link> <span class=md-ellipsis> Query's als vervanging voor formqueries en childqueries bij definitie document- en emailsjablonen </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/open-wave-community/docs.open-wave.nl/blob/main/docs/instellen_inrichten/queries.md title="Wijzig deze pagina" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=queries>Queries<a class=headerlink href=#queries title="Permanent link">¤</a></h1> <p>Portaal beheerportaal-Nieuw. Tegel queries.</p> <p>Screenidentifiers:</p> <ul> <li>MDLC_getQueriesList.xml</li> <li>MDDC_getQueryDetail.xml</li> </ul> <p>De SQL-statements van deze tabel worden gebruikt:</p> <ul> <li>om opschriften te genereren voor tegels</li> <li>om bepaalde scherminformatie in detailschermen per blok (on)zichtbaar te maken</li> <li>om inhoud van schermattributen in detailschermen zoals labels of actions, context-afhankelijk te maken</li> <li>om blokken tekst in te voegen in een document gemaakt vanuit een sjabloon.</li> <li>om resultsets te genereren ten behoeve van merge bij documentsjablonen</li> </ul> <p>Voor querybeheer moet de inlogger beheerrechten hebben: tbmedewerker.dnbeheerniveau = 99 (of hoger).<br> Alle kolommen en knoppen zijn dan toegankelijk.</p> <p>Een aantal query's in deze tabel is noodzakelijk voor het programma. Dit zijn de query's die het vakje systeem aangevinkt hebben staan.<br> De waarde van het systeem-aanvinkvakje kan niet worden gewijzigd met OpenWave. Aangevinkt betekent dat bij database-updates van OpenWave de bijbehorende query gewijzigd kan worden. Door gebruikers aangemaakte query's (met systeem = niet aangevinkt) zullen bij updates onaangetast blijven.</p> <p>Aan de query worden de volgende eisen gesteld:</p> <ul> <li>het resultaat van een query (dus de evaluatie van het select-statement) mag maar uit één kolom bestaan</li> <li>EN de query moet met 'select' beginnen</li> <li>EN er mag GEEN puntkomma (';') in voorkomen (vanwege het gevaar voor SQL-injectie).</li> </ul> <p>Een voorbeeld van een query is:</p> <div class=highlight><pre><span></span><code><span class=k>select</span>
<span class=w>  </span><span class=s1>&#39;Aantal: &#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span>
<span class=w>  </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmomgorkestrator_adv</span>
<span class=w>  </span><span class=k>where</span><span class=w> </span><span class=k>trim</span><span class=p>(</span><span class=n>dvadviesbehandelaar</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>trim</span><span class=p>(:</span><span class=n>keyaccount</span><span class=p>)</span>
</code></pre></div> <p>Deze query geeft het aantal openstaande adviezen, waarvoor de inlogger de behandelaar is.</p> <p>Bij query's kunnen twee variabelen worden gebruikt:</p> <ul> <li>:keyaccount zal worden vervangen door tbmedewerkers.dvcode van de inlogger</li> <li>{id} wordt:</li> <li>vervangen met de dnkey van tbomgvergunning of tbhandhavingen of tbmilinrichtingen of tbovvergunningen of tbmilvergunningen wanneer de query gebruikt wordt op een zaak- of inrichtingsportaal als tegelopschrift</li> <li>vervangen met de dnkey van de kaart die hoort bij de basistabel van het detailscherm van waaruit de query wordt aangeroepen als onderdeel van schermattributen bij de schermkolomdefinitie</li> <li>vervangen met de dnkey van de kaart van de tabel waaruit een document wordt gecreëerd.</li> </ul> <p>OpenWave heeft zelf een aantal functies op de database gedefinieerd - zoals fn_ddmaandjjjj() - die gebruikt kunnen worden in allerlei queries. Zie: <a href=../openwave_database-functies/ >OpenWave database functies</a>.</p> <p>De query heeft in de kolom dvcode een unieke, maar editbare, identifier, waarmee de query kan worden aangeroepen.</p> <p>Tot slot KAN het evalueren van een query aan rechten worden gekoppeld.<br> Dat wordt per query geregeld met de velden <em>rechtentabelnaam</em> en <em>rechtenkolomnaam</em>. De inlogger is via zijn rechtengroep verbonden met tbrechten of tbomgrechten, tbhorrechten, tbmilrechten, tbmilvergrechten, tbhhrechten, tbovrechten, tbinforechten. Dat zijn de mogelijke waardes van kolom <em>rechtentabelnaam</em>. De kolom <em>rechtenkolomnaam</em> verwijst naar een van de veldnamen van die rechtentabellen. De waarde van die veldnaam is F of T. Indien F dan wordt de query niet uitgevoerd. En als deze kolommen worden leeggelaten is er dus geen extra restrictie en wordt de query altijd geëvalueerd.</p> <p>De kijkrechten op de modules:</p> <ul> <li>Omgevingszaken: tbrechten en dlaomgvsb</li> <li>Handhavingen: tbrechten en dlahahvsb</li> <li>APV/Overige: tbrechten en dlaovvvsb</li> <li>Objecten/inrichtingen: tbrechten en dlamilinrvsb</li> <li>Milieu/gebruik: tbmilvergrechten en dlamilvergvsb</li> </ul> <h2 id=queries-voor-tegelopschrift>Queries voor tegelopschrift<a class=headerlink href=#queries-voor-tegelopschrift title="Permanent link">¤</a></h2> <p>De aanroep van het SQL-statement vindt plaats via de tegeldefinitie van de tegel waarop het dynamische opschrift moet verschijnen door het vullen van de kolom <em>Tegelopschrift dynamisch met API gettilecontent</em> (zie <a href=../portaldefinitie/portal_tegel/ >Portal tegel</a>). Een voorbeeld van een dynamisch tegelopschrift is de waarde <code>_getTileContent(omgeving_status,{id}.md)</code>. De codering <em>omgeving_status</em> verwijst naar een uniek codering in de tabel tbqueries. Het SQL-statement dat aldaar staat zal worden gebruikt om het dynamische deel van het tegelopschrift te genereren.</p> <p>Die parameter {id} kan gebruikt worden bij tegels op de zaakportals (dus niet bij opening of beheer). Deze wordt vervangen door de primary key van het betreffende zaakportaal (de identifier die opgenomen is in de URL van de portaalpagina).<br> Indien de resultaat set uit meerdere regels bestaat, zal OpenWave deze aan elkaar plakken gescheiden door een puntkomma, zodat elke regel ook een regel op de tegel wordt.</p> <p>Met HTML-code kan die éne resultaatkolom van een query toch in twee regels op een tegel getoond worden door op de gewenste plek bijvoorbeeld in te voegen. Bovendien kunt u ook andere HTML-code gebruiken bijvoorbeeld kleur:</p> <div class=highlight><pre><span></span><code><span class=k>select</span>
<span class=w>    </span><span class=s1>&#39;&lt;p style=&quot;color:red&quot;&gt;&#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>dvstatus</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=s1>&#39;&lt;/p&gt;&#39;</span>
<span class=w>    </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s1>&#39;&lt;br&gt;startdatum: &#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>to_char</span><span class=p>(</span><span class=n>ddaanvraag</span><span class=p>,</span><span class=s1>&#39;dd-mm-yyyy&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=s1>&#39;&lt;br&gt;fatale/streefdatum: &#39;</span>
<span class=w>    </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>to_char</span><span class=p>(</span><span class=n>ddfataledatum</span><span class=p>,</span><span class=s1>&#39;dd-mm-yyyy&#39;</span><span class=p>)</span>
<span class=w>    </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=n>ddingetrokken</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span>
<span class=w>            </span><span class=k>then</span><span class=w> </span><span class=s1>&#39;&lt;br&gt;ingetrokken: &#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>to_char</span><span class=p>(</span><span class=n>ddingetrokken</span><span class=p>,</span><span class=s1>&#39;dd-mm-yyyy&#39;</span><span class=p>)</span>
<span class=w>           </span><span class=k>else</span>
<span class=w>             </span><span class=s1>&#39;&lt;br&gt;besluit: &#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>to_char</span><span class=p>(</span><span class=n>ddbesluitdatum</span><span class=p>,</span><span class=s1>&#39;dd-mm-yyyy&#39;</span><span class=p>)</span>
<span class=w>           </span><span class=k>end</span>
<span class=w>   </span><span class=k>from</span><span class=w> </span><span class=n>vwfrmomgvergunningen</span>
<span class=w>   </span><span class=k>where</span><span class=w> </span><span class=n>dnkeyomgvergunning</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span>
</code></pre></div> <p>Het resultaat als tegelopschrift is bijvoorbeeld:</p> <p><img alt class=media loading=lazy src=../img/applicatiebeheer/instellen_inrichten/tegel_query_metkleur.png width=200></p> <p>Wanneer een query niet valide SQL-code gebruikt zal het programma - bij gebruik voor tegelopschrift - het resultaat vervangen door 'fout:xml': dat zal dan op de betreffende tegel verschijnen.</p> <h2 id=querys-om-blokken-onzichtbaar-te-maken-in-detailscherm>Query's om blokken onzichtbaar te maken in detailscherm<a class=headerlink href=#querys-om-blokken-onzichtbaar-te-maken-in-detailscherm title="Permanent link">¤</a></h2> <div class=highlight><pre><span></span><code><span class=nt>&lt;blok&gt;</span>
<span class=w>      </span><span class=nt>&lt;label&gt;</span>Hyperlink<span class=nt>&lt;/label&gt;</span>
<span class=w>      </span><span class=nt>&lt;width&gt;</span>100<span class=nt>&lt;/width&gt;</span>
<span class=w>      </span><span class=nt>&lt;height&gt;</span>40<span class=nt>&lt;/height&gt;</span>
<span class=w>      </span><span class=nt>&lt;type&gt;</span>doorlopend<span class=nt>&lt;/type&gt;</span>
<span class=w>      </span><span class=nt>&lt;notvisibleif&gt;</span>%query(omgeving_blokhyperlink)%<span class=nt>&lt;/notvisibleif&gt;</span>
<span class=w>      </span><span class=nt>&lt;column</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;dvhyperlink&quot;</span><span class=nt>&gt;</span>
</code></pre></div> <p>Zie <a href=./schermdefinitie/scherminformatie_voor_detailschermen.md>Scherminformatie voor detailschermen</a>.<br> In de tags van een blok van een detailscherm kan (hoeft dus niet) de tag<code>&lt;notvisibleif&gt;</code>opgenomen worden (onder de tag <type>). De inhoud van de tag verwijst naar een bepaalde query. Zo zal <em><notvisibleif>%query(omgeving_hyperlink)%</notvisibleif></em> verwijzen naar een rij in tbqueries met dvcode = <em>omgeving_hyperlink</em>.</p> <p>De bijbehorende query wordt geëvalueerd. De uitkomst van de query moet 1 (het blok is NIET zichtbaar) of 0 (WEL zichtbaar) zijn.<br> Voorbeeld:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=p>(</span><span class=n>dlmappenhyperlink</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;F&#39;</span><span class=p>)</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbrechten</span>
<span class=w>           </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>dnkeyrechten</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbmedewerkers</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=k>trim</span><span class=p>(</span><span class=n>dvcode</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>trim</span><span class=p>(:</span><span class=n>keyaccount</span><span class=p>))</span>
</code></pre></div> <p>Indien wordt verwezen naar een niet bestaande query of het element is leeg of indien error bij evaluatie of uitkomst is &lt;&gt; 1 dan beschouwt het programma de uitkomst van de query als 0 (het blok is wel zichtbaar).</p> <p>Indien in de aangeroepen query gebruik wordt gemaakt van de variabele {id} dan moet een tweede parameter worden toegevoegd aan de functie query() bestaande uit de string <code>%keypointer%</code>. Zie voorbeeld hieronder bij Query's voor contextafhankelijke attributen.</p> <h2 id=querys-voor-contextafhankelijke-schermkolommen>Query's voor contextafhankelijke schermkolommen<a class=headerlink href=#querys-voor-contextafhankelijke-schermkolommen title="Permanent link">¤</a></h2> <p>Vooralsnog wordt een queryaanroep ondersteunt bij de tags label, edit, backcolor, fontcolor, visible en action en filter.</p> <h3 id=label>Label<a class=headerlink href=#label title="Permanent link">¤</a></h3> <p>Een query kan worden gebruikt om de inhoud van de tag label contextgevoelig te maken.</p> <p>Voorbeeld: wanneer in de schermkolomdefinitie van een detailscherm staat <code>&lt;label&gt;Datum %query(omg_labelbesluit)%&lt;/label&gt;</code> zal het programma dynamisch het label samenstellen met de tekst 'Datum ' + daarachter het resultaat van de geëvalueerde query uit de tabel tbqueries met dvcode = <em>omg_labelbesluit</em>.</p> <p>Indien de contextgevoeligheid is gebaseerd op andere informatie uit de kaart die getoond wordt (de query zal dan bestaan uit <code>select x from y where dnkey = {id}</code>) dan moet een tweede parameter <code>%keypointer%</code> meegegeven worden: <code>&lt;label&gt;Datum %query('omg_labelbesluit,%keypointer%)%&lt;/label&gt;</code>. De variabele {id} uit de query zal vervangen worden met de primary key (dnkey) van de kaart waar je op staat.</p> <p>Zie de voorbeelden hieronder bij <a href=./queries#action.md>action</a>.</p> <h3 id=visible>Visible<a class=headerlink href=#visible title="Permanent link">¤</a></h3> <p>Een query kan worden gebruikt om een kolom contextgevoelig in het scherm op te nemen. In de schermkolomdefinitie (zowel voor kolommen van een lijst- als die voor het detailscherm) kan tag <code>&lt;visible&gt;</code> opgenomen zijn. Indien deze optionele tag de waarde false of 0 heeft dan moet de betreffende kolom NIET worden opgenomen. Indien deze optionele tag de waarde true of 1 heeft, of indien de tag niet bestaat, dan wordt de kolom wel opgenomen.</p> <p>Een query kan worden gebruikt om de inhoud van de tag contextgevoelig de waarde true of false te geven. Voorbeeld: wanneer in de schermkolomdefinitie van een detailscherm staat <code>&lt;visible&gt;%query(kolomXzichtbaar,%keypointer%)%&lt;/visible&gt;</code> zal het programma de tag visible vullen met de waarde die komt uit de aangeroepen geëvalueerde query. Indien die waarde ongelijk aan 'true' is dan moet de kolom NIET worden opgenomen.</p> <p>De query zal dan bestaan uit zoiets als <code>select case when x then 'true' else 'false' from y where dnkey = {id}</code>) waarbij <code>{id}</code> onder water wordt vervangen door de dnkey van kaart waar je op staat (de parameter <code>%keypointer%</code> in de aanroep).<br> Indien de query niet valide is, dan wordt de tag gevuld met 'false'.</p> <p>Er bestaat een systeemquery met dvcode = <em>geefWaardeRechtenkolom</em> die makkelijk toegang geeft tot het rechtensysteem van OpenWave en false of true retourneert. Voorbeeld is het zichtbaar zijn van de knop wijzig bevoegd gezag in het detailscherm van de omgevingszaak. In de schermkolomdefinitie is de tag visible als volgt:</p> <p><code>&lt;visible&gt;%query(geefwaarderechtenkolom,'tbomgrechten.dlbomgbevgezedt')%&lt;/visible&gt;</code></p> <p>De query kijkt voor de betreffende inlogger naar de waarde van de kolom tbomgrechten.dlbomgbevgezedt.</p> <h3 id=edit>Edit<a class=headerlink href=#edit title="Permanent link">¤</a></h3> <p>Een query kan worden gebruikt om de tag <em>edit</em> contextgevoelig de waarde true of false te geven.</p> <p>Voorbeeld: wanneer in de schermkolomdefinitie van een detailscherm staat <code>&lt;edit&gt;%query(omgeving_mddc_schermknopolo,%keypointer%)%&lt;/edit&gt;</code> zal het programma het attribuut <em>edit</em> vullen met de waarde die komt uit de aangeroepen geëvalueerde query.</p> <p>De query zal dan bestaan uit zoiets als <code>select case when x then 'true' else 'false' from y where dnkey = {id}</code>, waarbij {id} onder water wordt vervangen door de dnkey van kaart waar je op staat (de parameter <code>%keypointer%</code> in de aanroep).<br> Indien de query niet valide is, dan wordt het attribuut <em>edit</em> gevuld met 'false'.</p> <p>Er bestaat een systeemquery met dvcode = <em>geefWaardeRechtenkolom</em> die makkelijk toegang geeft tot het rechtensysteem van OpenWave en false of true retourneert. Zie hierboven bij visible: <em>geefwaarderechtenkolom</em>.</p> <h3 id=backcolor-fontcolor>Backcolor / Fontcolor<a class=headerlink href=#backcolor-fontcolor title="Permanent link">¤</a></h3> <p>Een query kan worden gebruikt om de tags backcolor en fontcolor contextgevoelig de waarde true of false te geven.<br> Het resultaat van de query moet gevuld zijn met standaard html colorname (<a href=https://www.w3schools.com/colors/colors_names.asp>https://www.w3schools.com/colors/colors_names.asp</a>.md).</p> <h3 id=action>Action<a class=headerlink href=#action title="Permanent link">¤</a></h3> <p>Een action kan in een schermkolomdefinitie worden gekoppeld aan een schermknop. Bijvoorbeeld een knop achter de kolom OLO-nummer in de omgevingsdetailkaart waarmee het OLO-loket met de juiste aanvraag wordt geopend afhankelijk van het OLO-nummer op de kaart: Of een knop die een pdok-kaart opent op basis van de coördinaten van het bijbehorende locatie adres.<br> Die action is dus contextgevoelig.</p> <h4 id=voorbeeld-1-ga-naar-olo-loket-op-juiste-aanvraagnummer>Voorbeeld 1: ga naar OLO-loket op juiste aanvraagnummer<a class=headerlink href=#voorbeeld-1-ga-naar-olo-loket-op-juiste-aanvraagnummer title="Permanent link">¤</a></h4> <p>De URL daartoe is: <code>https://www.omgevingsloket.nl/BevoegdGezag/bevoegdgezag/AanvraagTab/Aanvraag/?????/AanvraagGegevens</code></p> <p>Waarbij op de plaats van de vraagtekens een valide OLO-aanvraagnummer moet worden gevuld.<br> Dat lossen we op door:</p> <ul> <li>een knop te definiëren op het detailscherm van de omgevingszaak met een action waarin bovengenoemde URL wordt gedefinieerd</li> <li>in de URL een queryverwijzing te maken teneinde het juiste OLO-aanvraagnummer op te halen</li> <li>een query te maken die het gevraagde OLO-nummer retourneert.</li> </ul> <p>De knop kan als volgt worden gedefinieerd:</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;column&gt;</span>
<span class=w>     </span><span class=nt>&lt;regel&gt;</span>3<span class=nt>&lt;/regel&gt;</span>
<span class=w>     </span><span class=nt>&lt;tagnaam/&gt;</span>
<span class=w>     </span><span class=nt>&lt;label/&gt;</span>
<span class=w>     </span><span class=nt>&lt;divwidth&gt;</span>20<span class=nt>&lt;/divwidth&gt;</span>
<span class=w>     </span><span class=nt>&lt;divheight&gt;</span>30<span class=nt>&lt;/divheight&gt;</span>
<span class=w>     </span><span class=nt>&lt;edit&gt;</span>true<span class=nt>&lt;/edit&gt;</span>
<span class=w>     </span><span class=nt>&lt;showhint&gt;</span>false<span class=nt>&lt;/showhint&gt;</span>
<span class=w>     </span><span class=nt>&lt;wavetype&gt;</span>schermknop<span class=nt>&lt;/wavetype&gt;</span>
<span class=w>     </span><span class=nt>&lt;source&gt;&lt;/source&gt;</span>
<span class=w>     </span><span class=nt>&lt;filter&gt;</span>enable<span class=nt>&lt;/filter&gt;</span>
<span class=w>     </span><span class=nt>&lt;refresh&gt;</span>false<span class=nt>&lt;/refresh&gt;</span>
<span class=w>     </span><span class=nt>&lt;backcolor/&gt;</span>
<span class=w>     </span><span class=nt>&lt;fontcolor/&gt;</span>
<span class=w>     </span><span class=nt>&lt;nullable&gt;</span>true<span class=nt>&lt;/nullable&gt;</span>
<span class=w>     </span><span class=nt>&lt;icoon&gt;</span>14<span class=nt>&lt;/icoon&gt;</span>
<span class=w>     </span><span class=nt>&lt;align/&gt;</span>
<span class=w>     </span><span class=nt>&lt;pretext/&gt;</span>
<span class=w>     </span><span class=nt>&lt;posttext/&gt;</span>
<span class=w>     </span><span class=nt>&lt;hint&gt;</span>ga<span class=w> </span>naar<span class=w> </span>omgevingsloket<span class=nt>&lt;/hint&gt;</span>
<span class=w>    </span><span class=nt>&lt;action&gt;</span>openTabPage(https://www.omgevingsloket.nl/BevoegdGezag/bevoegdgezag/AanvraagTab/Aanvraag/%query(omgeving_olonummer,%keypointer%)%/AanvraagGegevens)<span class=nt>&lt;/action&gt;</span>
<span class=w>   </span><span class=nt>&lt;/column&gt;</span>
</code></pre></div> <p>Een action die begint met de functie <em>openTabPage</em> laat het programma als het ware de inhoud van <em>openTabPage()</em> intikken in de URL-editbox van de browser met als gevolg dat in een nieuw browsertabblad de gevraagde site wordt geopend. In de URL is het OLO-nummer opgenomen door een verwijzing naar een query met dvcode = <em>omgeving_olonummer</em>. Die query ziet er als volgt uit:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=n>dvlvoaanvraagnr</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbomgvergunning</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span>
</code></pre></div> <p>Aangezien in de query de variabele {id} is opgenomen die vervangen moet worden door de dnkey van de betreffende omgevingszaak, is de aanroep naar de query voorzien van een tweede parameter %keypointer% dus: <em>%query(omgeving_olonummer,%keypointer%)%</em>.</p> <p>Stel het OLO-nummer is '123456' dan zal het uiteindelijke resultaat van het indrukken van de schermknop zijn het openen van de URL:</p> <p><code>https://www.omgevingsloket.nl/BevoegdGezag/bevoegdgezag/AanvraagTab/Aanvraag/123456/AanvraagGegevens</code></p> <h4 id=voorbeeld-2-ga-naar-ruimtelijke-plannen-op-grond-van-adresgegevens>Voorbeeld 2: ga naar ruimtelijke plannen op grond van adresgegevens<a class=headerlink href=#voorbeeld-2-ga-naar-ruimtelijke-plannen-op-grond-van-adresgegevens title="Permanent link">¤</a></h4> <p>De URL daartoe is: <code>http://www.ruimtelijkeplannen.nl/web-roo/roo/bestemmingsplannen?xxxx&amp;amp;amp;yyyy</code><br> Waarbij op de plaats van de xxxx de tekst 'postcode='+ een valide postcode moet worden ingevoerd en op de plaats van de yyyy moet de tekst 'huisnummer=' + een huisnummer en eventueel een huisletter worden ingevoerd.</p> <p>Dat lossen we op door:</p> <ul> <li>een knop te definiëren op het detailscherm van het locatie adres met een action waarin bovengenoemde URL wordt gedefinieerd</li> <li>in de URL een queryverwijzing te maken teneinde de tekst 'postcode=' + de gewenste postcode op te halen</li> <li>in de URL een queryverwijzing te maken teneinde de tekst 'huisnummer=' + een huisnummer en huisletter op te halen</li> <li>een query te maken die de gevraagde postcode informatie retourneert</li> <li>een query te maken die het gevraagde huisnummerinformatie retourneert.</li> </ul> <p>De knop kan als volgt worden gedefinieerd:</p> <div class=highlight><pre><span></span><code><span class=w> </span><span class=nt>&lt;column&gt;</span>
<span class=w>    </span><span class=nt>&lt;regel&gt;</span>1<span class=nt>&lt;/regel&gt;</span>
<span class=w>    </span><span class=nt>&lt;tagnaam/&gt;</span>
<span class=w>    </span><span class=nt>&lt;label/&gt;</span>
<span class=w>    </span><span class=nt>&lt;divwidth&gt;</span>20<span class=nt>&lt;/divwidth&gt;</span>
<span class=w>    </span><span class=nt>&lt;divheight&gt;</span>30<span class=nt>&lt;/divheight&gt;</span>
<span class=w>    </span><span class=nt>&lt;edit&gt;</span>true<span class=nt>&lt;/edit&gt;</span>
<span class=w>    </span><span class=nt>&lt;showhint&gt;</span>false<span class=nt>&lt;/showhint&gt;</span>
<span class=w>    </span><span class=nt>&lt;wavetype&gt;</span>schermknop<span class=nt>&lt;/wavetype&gt;</span>
<span class=w>    </span><span class=nt>&lt;source&gt;&lt;/source&gt;</span>
<span class=w>    </span><span class=nt>&lt;filter&gt;</span>enable<span class=nt>&lt;/filter&gt;</span>
<span class=w>    </span><span class=nt>&lt;refresh&gt;</span>false<span class=nt>&lt;/refresh&gt;</span>
<span class=w>    </span><span class=nt>&lt;backcolor/&gt;</span>
<span class=w>    </span><span class=nt>&lt;fontcolor/&gt;</span>
<span class=w>    </span><span class=nt>&lt;nullable&gt;</span>true<span class=nt>&lt;/nullable&gt;</span>
<span class=w>    </span><span class=nt>&lt;icoon&gt;</span>14<span class=nt>&lt;/icoon&gt;</span>
<span class=w>    </span><span class=nt>&lt;align/&gt;</span>
<span class=w>    </span><span class=nt>&lt;pretext/&gt;</span>
<span class=w>    </span><span class=nt>&lt;posttext/&gt;</span>
<span class=w>    </span><span class=nt>&lt;hint&gt;</span>ga<span class=w> </span>naar<span class=w> </span>ruimtelijke<span class=w> </span>plannen<span class=nt>&lt;/hint&gt;</span>
<span class=w>    </span><span class=nt>&lt;action&gt;</span>openTabPage(http://www.ruimtelijkeplannen.nl/web-roo/roo/bestemmingsplannen?%query(locatie_postcode,%keypointer%)%<span class=ni>&amp;amp;</span>%query(locatie_huisnr,%keypointer%)%)<span class=nt>&lt;/action&gt;</span>
<span class=w> </span><span class=nt>&lt;/column&gt;</span>
</code></pre></div> <p>In de URL is het postcodegedeelte opgenomen door een verwijzing naar een query met dvcode = locatie_postcode. Die query ziet er als volgt uit:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=s1>&#39;postcode=&#39;</span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>coalesce</span><span class=p>(</span><span class=n>dvpostcode</span><span class=p>,</span><span class=s1>&#39;&#39;</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbperceeladressen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span>
</code></pre></div> <p>Aangezien in de query de variabele {id} is opgenomen die vervangen moet worden door de dnkey van de betreffende locatie (tbperceeladressen), is de aanroep naar de query voorzien van een tweede parameter <code>%keypointer%</code>, dus: <code>%query(locatie_postcode,%keypointer%)%</code>.</p> <p>In de URL is het huisnummergedeelte opgenomen door een verwijzing naar een query met dvcode = locatie_huisnr. Die query ziet er als volgt uit:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=s1>&#39;huisnummer=&#39;</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>coalesce</span><span class=p>(</span><span class=k>trim</span><span class=p>(</span><span class=n>dvhuisnummer</span><span class=p>),</span><span class=s1>&#39;&#39;</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>coalesce</span><span class=p>(</span><span class=n>dvhuisletter</span><span class=p>,</span><span class=s1>&#39;&#39;</span><span class=p>)</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbperceeladressen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span>
</code></pre></div> <p>Aangezien in de query de variabele {id} is opgenomen die vervangen moet worden door de dnkey van de betreffende locatie (tbperceeladressen), is de aanroep naar de query voorzien van een tweede parameter <code>%keypointer%</code>, dus: <code>%query(locatie_huismummer,%keypointer%)%</code>.</p> <p>Stel de postcode van de locatiekaart waarvandaan de knop wordt aangesproken = 1074XK en het huisnummer = 41, dan zal een URL geopend worden met:</p> <p><code>http://www.ruimtelijkeplannen.nl/web-roo/roo/bestemmingsplannen?postcode=1074XK&amp;amp;huisnummer=41</code></p> <h4 id=voorbeeld-3-open-een-pdok-kaart-op-basis-van-een-coordinatenpaar>Voorbeeld 3 Open een pdok-kaart op basis van een coördinatenpaar<a class=headerlink href=#voorbeeld-3-open-een-pdok-kaart-op-basis-van-een-coordinatenpaar title="Permanent link">¤</a></h4> <p>De URL van bijvoorbeeld het x, y punt (168875,382535) op een PDOK-kaart is:</p> <p><code>https://kaart.pdok.nl/api/api.html?mloc=168875,382535&amp;mt=mt3&amp;loc=168875,382535&amp;zoom=10&amp;tekst=Locatie:%3C/BR%3E168875,382535</code></p> <p>De action:</p> <p><code>html4strictopentabpage(https://kaart.pdok.nl/api/api.html?mloc=%query(coordinaten,%keypointer%)%&amp;amp;mt=mt3&amp;amp;loc=%query(coordinaten,%keypointer%)%&amp;amp;zoom=10&amp;amp;tekst=Locatie:%3C/BR%3E%query(coordinaten,%keypointer%)%)</code></p> <p>De query <em>coördinaten</em> moet dus als resultaat een x- en een y-coördinaat teruggeven (in rijksdriehoek) gescheiden door een komma.</p> <h3 id=filter>Filter<a class=headerlink href=#filter title="Permanent link">¤</a></h3> <p>Een query kan worden gebruikt om de inhoud van de tag filter contextgevoelig te maken.</p> <p>Voorbeeld: wanneer bij een processtap een extra invoerkolom is gedefinieerd van type dropdown, dan wordt de bijbehorende query voor het dropdownlijstje in het beheer bij de definitie van de procestap gedefinieerd. Deze wordt bij het binnenhalen van een proces vervolgens gekopieerd naar de tabel tbtermijnbewstappen om de kolom dvinvoerdropd aldaar met een dropdowwnlijstje te kunnen vullen. Om nu - dynamisch - het juiste dropdownlijstje te krijgen is de kolom dvinvoerdropd in de schermkolomdefinitie van het detailscherm van een processtap als volgt gedefinieerd (inclusief contextgevoelige zichtbaarheid en label):</p> <div class=highlight><pre><span></span><code><span class=nt>&lt;column</span><span class=w> </span><span class=na>value=</span><span class=s>&quot;dvinvoerdropd&quot;</span><span class=nt>&gt;</span>
<span class=w>                </span><span class=nt>&lt;regel&gt;</span>3<span class=nt>&lt;/regel&gt;</span>
<span class=w>                </span><span class=nt>&lt;tagnaam&gt;</span>dvinvoerdropd<span class=nt>&lt;/tagnaam&gt;</span>
<span class=w>                </span><span class=nt>&lt;label&gt;</span>%query(termijnstappen_mddc_getinvoerlabeldropd,%keypointer%)%<span class=nt>&lt;/label&gt;</span>
<span class=w>                </span><span class=nt>&lt;divwidth&gt;</span>400<span class=nt>&lt;/divwidth&gt;</span>
<span class=w>                </span><span class=nt>&lt;divheight&gt;</span>30<span class=nt>&lt;/divheight&gt;</span>
<span class=w>                </span><span class=nt>&lt;edit&gt;</span>true<span class=nt>&lt;/edit&gt;</span>
<span class=w>                </span><span class=nt>&lt;showhint&gt;</span>false<span class=nt>&lt;/showhint&gt;</span>
<span class=w>                </span><span class=nt>&lt;wavetype&gt;</span>keuzelijst<span class=nt>&lt;/wavetype&gt;</span>
<span class=w>                </span><span class=nt>&lt;source&gt;</span>generalwithoutemptyline<span class=nt>&lt;/source&gt;</span>
<span class=w>                </span><span class=nt>&lt;filter&gt;</span>%query(termijnstappen_mddc_getinvoerquerydropd,%keypointer%)%<span class=nt>&lt;/filter&gt;</span>
<span class=w>                </span><span class=nt>&lt;refresh&gt;</span>false<span class=nt>&lt;/refresh&gt;</span>
<span class=w>                </span><span class=nt>&lt;backcolor/&gt;</span>
<span class=w>                </span><span class=nt>&lt;fontcolor/&gt;</span>
<span class=w>                </span><span class=nt>&lt;nullable&gt;</span>true<span class=nt>&lt;/nullable&gt;</span>
<span class=w>                </span><span class=nt>&lt;icoon/&gt;</span>
<span class=w>                </span><span class=nt>&lt;visible&gt;</span>%query(termijnstappen_mddc_isinvoerdropdvsb,%keypointer%)%<span class=nt>&lt;/visible&gt;</span>
<span class=w>   </span><span class=nt>&lt;/column&gt;</span>
</code></pre></div> <h3 id=nullable>Nullable<a class=headerlink href=#nullable title="Permanent link">¤</a></h3> <p>Een query kan worden gebruikt om de inhoud van de tag nullable contextgevoelig te maken.</p> <h2 id=querys-voor-invoegen-tekstblokken-bij-sjablonen>Query's voor invoegen tekstblokken bij sjablonen<a class=headerlink href=#querys-voor-invoegen-tekstblokken-bij-sjablonen title="Permanent link">¤</a></h2> <p>Zie ook kopje <strong>Invoegen tekstblokken op basis van een query-aanroep naar tbqueries</strong> bij <a href=../documentsjablonen/ >Documentsjablonen</a>.<br> De query wordt in het documentsjabloon wordt aangeroepen door met de merge-codering <code>&lt;%query(param1,param2)%&gt;</code>.</p> <p>Bijvoorbeeld: <code>&lt;%query(apvoverig_tkstblk1,:keyvergunning)%&gt;</code>.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p><strong>LET OP:</strong> De hier gebruikte merge-codering zal niet door de spellingschecker heenkomen, voor een goede werking zal het sjabloon daarom opgeslagen moeten zijn zonder spellingschecker!</p> </div> <p>Param1 wordt opgezocht in de kolom dvcode van tbqueries. Die query wordt geëvalueerd waarbij de string {id} in de query - indien aanwezig - eerst wordt vervangen door de waarde van param2. Param2 is dus optioneel.</p> <p>Param2 zal meestal gevuld worden met de dnkey van de kaart van waaruit het document wordt gecreëerd. In het sjabloon wordt dit opgegeven door param2 één van de volgende waardes te geven (er zijn geen andere mogelijkheden voor param2):</p> <ul> <li>:keyvergunning (staat voor de dnkey van een zaak: tbovvergunningen, tbomgvergunning, tbmilvergunningen, tbhandhavingen, tbbouwvergunningen, tbhorecavergunningen en tbinfoaanvragen)</li> <li>:keyadvies</li> <li>:keyinspectie</li> <li>:keyinspectiebezoek</li> <li>:keyinrichting (staat voor de dnkey van de inrichting)</li> <li>:keyadres (staat voor de dnkey van een aangewezen contactpersoon)</li> <li>:keybezwaarberoep</li> <li>:keylocatie (staat voor de dnkey van de locatie van de zaak/inrichting).</li> </ul> <h3 id=voorbeeld-1-invoegen-tekst-uit-query-zelf>Voorbeeld 1: invoegen tekst uit query zelf<a class=headerlink href=#voorbeeld-1-invoegen-tekst-uit-query-zelf title="Permanent link">¤</a></h3> <p>De verwijzing in het sjabloon kan zijn: <code>&lt;%query(apvoverig_tkstblk1,:keyvergunning)%&gt;</code>.</p> <p>De query uit tbqueries waarnaar wordt verwezen via apvoverig_tkstblk1 kan zijn:</p> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>dvcodesoortovverg</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbovvergunningen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;O&#39;</span>
<span class=w>              </span><span class=k>then</span><span class=w>  </span><span class=s1>&#39;Volgens artikel X van wet y zal de ontheffing ....&#39;</span>
<span class=w>              </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>::</span><span class=nb>text</span>
<span class=w>         </span><span class=k>end</span>
</code></pre></div> <p>Hetgeen betekent dat indien het zaaktype van de APV/Overige vergunning waar vandaan het document wordt gecreëerd van het soort 'O' is dat alleen dan de tekst <em>Volgens artikel X van wet y zal de ontheffing ….</em> zal worden ingevoegd.</p> <h3 id=voorbeeld-2-invoegen-tekst-uit-de-tabel-tekstblokken-via-de-query>Voorbeeld 2: invoegen tekst uit de tabel tekstblokken via de query<a class=headerlink href=#voorbeeld-2-invoegen-tekst-uit-de-tabel-tekstblokken-via-de-query title="Permanent link">¤</a></h3> <div class=highlight><pre><span></span><code><span class=k>select</span><span class=w> </span><span class=n>dvtekstblok</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbtekstblokken</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=k>lower</span><span class=p>(</span><span class=n>dvcode</span><span class=p>)</span><span class=w> </span><span class=o>=</span>
<span class=w>               </span><span class=k>case</span><span class=w> </span><span class=k>when</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>dvcodesoortovverg</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbovvergunningen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;O&#39;</span>
<span class=w>                    </span><span class=k>then</span><span class=w>  </span><span class=s1>&#39;tkstblk_1&#39;</span>
<span class=w>                    </span><span class=k>when</span><span class=w> </span><span class=p>(</span><span class=k>select</span><span class=w> </span><span class=n>dvcodesoortovverg</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tbovvergunningen</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>dnkey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>{</span><span class=n>id</span><span class=err>}</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;E&#39;</span>
<span class=w>                     </span><span class=k>then</span><span class=w>  </span><span class=s1>&#39;tkstblk_2&#39;</span>
<span class=w>               </span><span class=k>else</span><span class=w> </span><span class=s1>&#39;xxx&#39;</span>
<span class=w>               </span><span class=k>end</span>
</code></pre></div> <p>Hetgeen betekent dat indien het zaaktype van de APV/Overige vergunning waar vandaan het document wordt gecreëerd van het soort 'O' is dat dan de inhoud van de kolom dvtekstblok uit de tabel tbtekstblokken (beheer) met dvcode = <em>tkstblk_1</em> wordt afgedrukt.</p> <p>Indien soort = 'E' wordt de inhoud van de kolom dvtekstblok met dvcode = <em>tkstblk_2</em> afgedrukt. En anders niets.</p> <p>Zie voor invoegen plaatjes op basis van query onder Kopje: <em>Invoegen plaatjes op basis van een query-aanroep naar tbqueries die verwijst naar tbimages</em> bij <a href=../documentsjablonen/ >Documentsjablonen</a>.</p> <h2 id=querys-als-vervanging-voor-formqueries-en-childqueries-bij-definitie-document-en-emailsjablonen>Query's als vervanging voor formqueries en childqueries bij definitie document- en emailsjablonen<a class=headerlink href=#querys-als-vervanging-voor-formqueries-en-childqueries-bij-definitie-document-en-emailsjablonen title="Permanent link">¤</a></h2> <p>De inhoud van de kolommen van de formqueries en childqueries uit de definitie document- en emailsjablonen (beheer) kan ook bestaan uit een verwijzing naar een query in deze tabel tbqueries.</p> <p>Hierdoor hoeft een query die in meerdere sjablonen gebruikt wordt maar eenmalig te worden gedefinieerd. De opmaak van de sjablonen wijzigt hierdoor niet. In tbqueries kan bovendien een select statement ingevoerd worden van onbeperkte grootte.</p> <p>Zie het kopje <em>formquery en childquery-verwijzingen naar tbqueries</em> bij <a href=../documentsjablonen/ >Documentsjablonen en Sjabloongroepen</a></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "navigation.instant", "navigation.instant.progress", "navigation.tabs", "navigation.indexes", "navigation.prune", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Gekopieerd naar klembord", "clipboard.copy": "Kopi\u00ebren naar klembord", "search.result.more.one": "1 extra overeenkomst op deze pagina", "search.result.more.other": "# extra overeenkomsten op deze pagina", "search.result.none": "Geen overeenkomende documenten", "search.result.one": "1 overeenkomende document", "search.result.other": "# overeenkomende documenten", "search.result.placeholder": "Typ om te beginnen met zoeken", "search.result.term.missing": "Ontbreekt", "select.version": "Selecteer versie"}}</script> <script src=../../assets/javascripts/bundle.d7c377c4.min.js></script> </body> </html>